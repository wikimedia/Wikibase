{
  "comments": [
    {
      "key": {
        "uuid": "8e46e3ee_1fec55b6",
        "filename": "repo/WikibaseRepo.entitytypes.php",
        "patchSetId": 1
      },
      "lineNbr": 75,
      "author": {
        "id": 2626
      },
      "writtenOn": "2017-03-16T14:49:42Z",
      "side": 1,
      "message": "I know it is copied over but DedupeBag could also be injected in SiteLinksRdfBuilder\u0027s constructor, couldn\u0027t it? But this should be in a separate patch if at all.",
      "revId": "2b98d1a97e7ff2e1794453c10b9170aae880caa3",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e46e3ee_df3a6de4",
        "filename": "repo/WikibaseRepo.entitytypes.php",
        "patchSetId": 1
      },
      "lineNbr": 75,
      "author": {
        "id": 920
      },
      "writtenOn": "2017-03-16T15:21:13Z",
      "side": 1,
      "message": "I actively checked for that. It\u0027s not possible.",
      "parentUuid": "8e46e3ee_1fec55b6",
      "revId": "2b98d1a97e7ff2e1794453c10b9170aae880caa3",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e46e3ee_0a48915f",
        "filename": "repo/WikibaseRepo.entitytypes.php",
        "patchSetId": 1
      },
      "lineNbr": 75,
      "author": {
        "id": 2626
      },
      "writtenOn": "2017-03-16T15:26:13Z",
      "side": 1,
      "message": "Discussing off topic as I think this potential change should not be part of this patch: why it is not possible?\nI don\u0027t know this part of the code but this seems to be the only place SiteLinksRdfBuilder is instantiated, and we have $dedupe here, so why it cannot be another constructor parameter? What does break?",
      "parentUuid": "8e46e3ee_df3a6de4",
      "revId": "2b98d1a97e7ff2e1794453c10b9170aae880caa3",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e46e3ee_ca86296a",
        "filename": "repo/WikibaseRepo.entitytypes.php",
        "patchSetId": 1
      },
      "lineNbr": 75,
      "author": {
        "id": 920
      },
      "writtenOn": "2017-03-16T15:31:13Z",
      "side": 1,
      "message": "Oh, you meant changing the constructor of the SiteLinksRdfBuilder. I thought you meant just changing it here. I agree we should change that. Let\u0027s do it in a followup",
      "parentUuid": "8e46e3ee_0a48915f",
      "revId": "2b98d1a97e7ff2e1794453c10b9170aae880caa3",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e46e3ee_8471f8df",
        "filename": "repo/WikibaseRepo.entitytypes.php",
        "patchSetId": 1
      },
      "lineNbr": 77,
      "author": {
        "id": 2626
      },
      "writtenOn": "2017-03-16T14:49:42Z",
      "side": 1,
      "message": "else branch not really needed, can be simply omitted.",
      "revId": "2b98d1a97e7ff2e1794453c10b9170aae880caa3",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e46e3ee_8a058115",
        "filename": "repo/WikibaseRepo.entitytypes.php",
        "patchSetId": 1
      },
      "lineNbr": 77,
      "author": {
        "id": 920
      },
      "writtenOn": "2017-03-16T15:21:13Z",
      "side": 1,
      "message": "It makes the EntityRdfBuilderFactory to fail (the post condition) because it says the callback isn\u0027t returning an instance of EntityRdfBuilder. I can change to return NullEntityRdfBuilder only (and cut the else part) if that\u0027s what you mean.",
      "parentUuid": "8e46e3ee_8471f8df",
      "revId": "2b98d1a97e7ff2e1794453c10b9170aae880caa3",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e46e3ee_ca49496c",
        "filename": "repo/WikibaseRepo.entitytypes.php",
        "patchSetId": 1
      },
      "lineNbr": 77,
      "author": {
        "id": 2626
      },
      "writtenOn": "2017-03-16T15:26:13Z",
      "side": 1,
      "message": "Yeah, sorry for not being clear.\nI meant:\n\nif ( foo ) {\n    return X;\n}\n\nreturn Y;",
      "parentUuid": "8e46e3ee_8a058115",
      "revId": "2b98d1a97e7ff2e1794453c10b9170aae880caa3",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e46e3ee_7ffa3975",
        "filename": "repo/includes/Rdf/EntityRdfBuilderFactory.php",
        "patchSetId": 1
      },
      "lineNbr": 51,
      "author": {
        "id": 2626
      },
      "writtenOn": "2017-03-16T14:49:42Z",
      "side": 1,
      "message": "Missing from the @param docs above.\n\nAdding SiteList to argument list is not very nice as it is only relevant for site-specific builder, or maybe item builder. But I guess there no really nice way around it.\nOr would we prefer to call WikibaseRepo::getSiteLookup()-\u003egetSites() in item\u0027s entity type definition file?",
      "revId": "2b98d1a97e7ff2e1794453c10b9170aae880caa3",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e46e3ee_ea752593",
        "filename": "repo/includes/Rdf/EntityRdfBuilderFactory.php",
        "patchSetId": 1
      },
      "lineNbr": 51,
      "author": {
        "id": 920
      },
      "writtenOn": "2017-03-16T15:27:33Z",
      "side": 1,
      "message": "It would be great but also it would make the $sites arguments in the RdfBuilder constructor completely unused (and needs lots of cleanup) + I guess we need to rewrite some tests here.",
      "parentUuid": "8e46e3ee_7ffa3975",
      "revId": "2b98d1a97e7ff2e1794453c10b9170aae880caa3",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e46e3ee_dfdeed13",
        "filename": "repo/includes/Rdf/NullEntityRdfBuilder.php",
        "patchSetId": 1
      },
      "lineNbr": 3,
      "author": {
        "id": 2626
      },
      "writtenOn": "2017-03-16T14:49:42Z",
      "side": 1,
      "message": "Minor: Wouldn\u0027t we want this to be in Wikibase\\Repo\\Rdf?",
      "revId": "2b98d1a97e7ff2e1794453c10b9170aae880caa3",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e46e3ee_4a6539dc",
        "filename": "repo/includes/Rdf/NullEntityRdfBuilder.php",
        "patchSetId": 1
      },
      "lineNbr": 3,
      "author": {
        "id": 920
      },
      "writtenOn": "2017-03-16T15:27:33Z",
      "side": 1,
      "message": "I\u0027d love to but it seems all of php files in the Rdf folder are in Wikibase\\Rdf namespace (which needs fixing but it will be really big patch)",
      "parentUuid": "8e46e3ee_dfdeed13",
      "revId": "2b98d1a97e7ff2e1794453c10b9170aae880caa3",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    }
  ]
}