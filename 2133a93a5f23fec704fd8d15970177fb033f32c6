{
  "comments": [
    {
      "key": {
        "uuid": "8e23439c_bda18038",
        "filename": "lib/includes/store/EntityStore.php",
        "patchSetId": 1
      },
      "lineNbr": 26,
      "author": {
        "id": 1453
      },
      "writtenOn": "2014-05-08T23:07:31Z",
      "side": 1,
      "message": "I miss something important here. Should this interface mark the new ID as used? Even if the Entity is not stored for some reason? In other words: If I call this method two times, is the ID supposed to change? I think this should be explained here.",
      "revId": "2133a93a5f23fec704fd8d15970177fb033f32c6",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e23439c_933473f9",
        "filename": "lib/includes/store/EntityStore.php",
        "patchSetId": 1
      },
      "lineNbr": 26,
      "author": {
        "id": 128
      },
      "writtenOn": "2014-05-09T09:26:54Z",
      "side": 1,
      "message": "right, will do!",
      "parentUuid": "8e23439c_bda18038",
      "revId": "2133a93a5f23fec704fd8d15970177fb033f32c6",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e23439c_3db69086",
        "filename": "lib/includes/store/EntityStore.php",
        "patchSetId": 1
      },
      "lineNbr": 32,
      "author": {
        "id": 1453
      },
      "writtenOn": "2014-05-08T23:07:31Z",
      "side": 1,
      "message": "Is \"fresh\" a common term for what this does? MySQL calls this auto increment, right? Other DBMS call this \"get next from sequence\".\n\n\"getNextFreeId\" is a possible suggestion. Not sure if it\u0027s better.",
      "revId": "2133a93a5f23fec704fd8d15970177fb033f32c6",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e23439c_d379cbf3",
        "filename": "lib/includes/store/EntityStore.php",
        "patchSetId": 1
      },
      "lineNbr": 32,
      "author": {
        "id": 128
      },
      "writtenOn": "2014-05-09T09:26:54Z",
      "side": 1,
      "message": "Until now, we have been using \"grabFreshid\". The new name is consistent with that. getNextFreeId is good too.",
      "parentUuid": "8e23439c_3db69086",
      "revId": "2133a93a5f23fec704fd8d15970177fb033f32c6",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e23439c_9d66c425",
        "filename": "lib/tests/phpunit/MockRepository.php",
        "patchSetId": 1
      },
      "lineNbr": 861,
      "author": {
        "id": 1453
      },
      "writtenOn": "2014-05-08T23:07:31Z",
      "side": 1,
      "message": "If the explanation in the interface is going to be longer, I think it\u0027s better to replace this line with a @see.",
      "revId": "2133a93a5f23fec704fd8d15970177fb033f32c6",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e23439c_7320b7a8",
        "filename": "lib/tests/phpunit/MockRepository.php",
        "patchSetId": 1
      },
      "lineNbr": 861,
      "author": {
        "id": 128
      },
      "writtenOn": "2014-05-09T09:26:54Z",
      "side": 1,
      "message": "done",
      "parentUuid": "8e23439c_9d66c425",
      "revId": "2133a93a5f23fec704fd8d15970177fb033f32c6",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e23439c_7d6be8ee",
        "filename": "repo/includes/EditEntity.php",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1453
      },
      "writtenOn": "2014-05-08T23:07:31Z",
      "side": 1,
      "message": "You should either remove this line or remove all backslashes from all \\MWException below.",
      "revId": "2133a93a5f23fec704fd8d15970177fb033f32c6",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e23439c_96fa210c",
        "filename": "repo/includes/EditEntity.php",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 128
      },
      "writtenOn": "2014-05-09T09:26:54Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8e23439c_7d6be8ee",
      "revId": "2133a93a5f23fec704fd8d15970177fb033f32c6",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e23439c_a021539f",
        "filename": "repo/includes/content/EntityContent.php",
        "patchSetId": 1
      },
      "lineNbr": 505,
      "author": {
        "id": 1453
      },
      "writtenOn": "2014-05-08T23:07:31Z",
      "side": 1,
      "message": "If setting a new ID is removed here, where is it done now? I\u0027m probably just missing it. Please help me understand.",
      "revId": "2133a93a5f23fec704fd8d15970177fb033f32c6",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e23439c_130f433d",
        "filename": "repo/includes/content/EntityContent.php",
        "patchSetId": 1
      },
      "lineNbr": 505,
      "author": {
        "id": 128
      },
      "writtenOn": "2014-05-09T09:26:54Z",
      "side": 1,
      "message": "It\u0027s done before calling this method - or saving will fail later. \nThis method is moved into EntityStore by the a follow-up patch, which will make the logic clear again.",
      "parentUuid": "8e23439c_a021539f",
      "revId": "2133a93a5f23fec704fd8d15970177fb033f32c6",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e23439c_c21fafb9",
        "filename": "repo/includes/content/EntityContent.php",
        "patchSetId": 1
      },
      "lineNbr": 505,
      "author": {
        "id": 1453
      },
      "writtenOn": "2014-05-10T15:26:41Z",
      "side": 1,
      "message": "Oh, ... wait, ... I\u0027m afraid you confused something then. If this \"is done before calling this method\" then isNew() can never return true. If it does there is something wrong and this should throw an exception. It should not just go ahead if the ID is missing.\n\nSuggestion:\n\nif ( $this-\u003eisNew() ) {\n\treturn Status::newFatal( \u0027edit-gone-missing\u0027 );\n} elseif ( ( $flags \u0026 EDIT_NEW ) \u003d\u003d EDIT_NEW \u0026\u0026 $this-\u003egetTitle()-\u003eexists() ) {\n\treturn Status::newFatal( \u0027edit-already-exists\u0027 );\n}",
      "parentUuid": "8e23439c_130f433d",
      "revId": "2133a93a5f23fec704fd8d15970177fb033f32c6",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e23439c_d9768101",
        "filename": "repo/includes/content/EntityContent.php",
        "patchSetId": 1
      },
      "lineNbr": 505,
      "author": {
        "id": 128
      },
      "writtenOn": "2014-05-10T18:56:13Z",
      "side": 1,
      "message": "I kept this case as a placeholder; in the follow-up patch, this code is moved to EntityStore, and the old behavior of grabbing an ID in the isNew() case is restored. I can change this, but it\u0027s pointless, since this code is removed by the follow up...",
      "parentUuid": "8e23439c_c21fafb9",
      "revId": "2133a93a5f23fec704fd8d15970177fb033f32c6",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e23439c_5d702cd9",
        "filename": "repo/includes/content/EntityContentFactory.php",
        "patchSetId": 1
      },
      "lineNbr": 161,
      "author": {
        "id": 1453
      },
      "writtenOn": "2014-05-08T23:07:31Z",
      "side": 1,
      "message": "Backslash.",
      "revId": "2133a93a5f23fec704fd8d15970177fb033f32c6",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e23439c_b3052f19",
        "filename": "repo/includes/content/EntityContentFactory.php",
        "patchSetId": 1
      },
      "lineNbr": 161,
      "author": {
        "id": 128
      },
      "writtenOn": "2014-05-09T09:26:54Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8e23439c_5d702cd9",
      "revId": "2133a93a5f23fec704fd8d15970177fb033f32c6",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e23439c_1d7ab4b9",
        "filename": "repo/includes/store/sql/WikiPageEntityStore.php",
        "patchSetId": 1
      },
      "lineNbr": 51,
      "author": {
        "id": 1453
      },
      "writtenOn": "2014-05-08T23:07:31Z",
      "side": 1,
      "message": "Replace with @see, maybe? Not required, just a suggestion.",
      "revId": "2133a93a5f23fec704fd8d15970177fb033f32c6",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e23439c_f30ba72c",
        "filename": "repo/includes/store/sql/WikiPageEntityStore.php",
        "patchSetId": 1
      },
      "lineNbr": 51,
      "author": {
        "id": 128
      },
      "writtenOn": "2014-05-09T09:26:54Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8e23439c_1d7ab4b9",
      "revId": "2133a93a5f23fec704fd8d15970177fb033f32c6",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e23439c_bd80608f",
        "filename": "repo/includes/store/sql/WikiPageEntityStore.php",
        "patchSetId": 1
      },
      "lineNbr": 56,
      "author": {
        "id": 1453
      },
      "writtenOn": "2014-05-08T23:07:31Z",
      "side": 1,
      "message": "Not true.",
      "revId": "2133a93a5f23fec704fd8d15970177fb033f32c6",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e23439c_d308ab32",
        "filename": "repo/includes/store/sql/WikiPageEntityStore.php",
        "patchSetId": 1
      },
      "lineNbr": 56,
      "author": {
        "id": 128
      },
      "writtenOn": "2014-05-09T09:26:54Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8e23439c_bd80608f",
      "revId": "2133a93a5f23fec704fd8d15970177fb033f32c6",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    }
  ]
}