{
  "comments": [
    {
      "key": {
        "uuid": "4e04eb01_6e8bfbe8",
        "filename": "client/WikibaseClient.hooks.php",
        "patchSetId": 14
      },
      "lineNbr": 435,
      "author": {
        "id": 44
      },
      "writtenOn": "2014-02-22T18:52:10Z",
      "side": 1,
      "message": "Please use explicit checks",
      "revId": "deef66eb401210ddb287be7169603a6e59b0ce03",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e04eb01_0e7c77e1",
        "filename": "client/WikibaseClient.hooks.php",
        "patchSetId": 14
      },
      "lineNbr": 444,
      "author": {
        "id": 44
      },
      "writtenOn": "2014-02-22T18:52:10Z",
      "side": 1,
      "message": "This is not a small method and it goes up to 4 levels of nesting. Having a dedicated class for this, which is then also tested, would be good.",
      "revId": "deef66eb401210ddb287be7169603a6e59b0ce03",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e04eb01_ae68e319",
        "filename": "client/includes/hooks/LanguageLinkBadgeHandler.php",
        "patchSetId": 14
      },
      "lineNbr": 6,
      "author": {
        "id": 44
      },
      "writtenOn": "2014-02-22T18:52:10Z",
      "side": 1,
      "message": "ref not used",
      "revId": "deef66eb401210ddb287be7169603a6e59b0ce03",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e04eb01_8e5f6777",
        "filename": "client/includes/hooks/LanguageLinkBadgeHandler.php",
        "patchSetId": 14
      },
      "lineNbr": 11,
      "author": {
        "id": 44
      },
      "writtenOn": "2014-02-22T18:52:10Z",
      "side": 1,
      "message": "Missing ref to Site",
      "revId": "deef66eb401210ddb287be7169603a6e59b0ce03",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e04eb01_8e8887ed",
        "filename": "client/includes/hooks/LanguageLinkBadgeHandler.php",
        "patchSetId": 14
      },
      "lineNbr": 21,
      "author": {
        "id": 44
      },
      "writtenOn": "2014-02-22T18:52:10Z",
      "side": 1,
      "message": "Please give this thing a clear name that tells you what this class is responsible for (more specifically than \"something with language link badges\")\n\nLooking at this more it seems the cohesion of this class is very low because it is doing different things. In other words, the methods ought to be grouped differently.\n\nFor instance, getSiteLink, which is public (yet only used from within the class and the test...), needs several collaborators not needed by anything else in the class. These are siteLinkLookup and localSiteId. While in the end all that the rest of the class needs is a lookup of site link by title and siteid. There already is an interface for that, which you can make a new implementation off.\n\nThe two public methods used from the production code are getBadges and getTitle. They do not seem to have anything in common, apart from both needing an EntityLookup. That is not a reason to stuff them in the same class.",
      "revId": "deef66eb401210ddb287be7169603a6e59b0ce03",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e04eb01_ee1f0bb9",
        "filename": "client/includes/hooks/LanguageLinkBadgeHandler.php",
        "patchSetId": 14
      },
      "lineNbr": 72,
      "author": {
        "id": 44
      },
      "writtenOn": "2014-02-22T18:29:41Z",
      "side": 1,
      "message": "Please do not conflate languages and sites, they are disjoint concepts. $siteId seems to be the appropriate var name",
      "revId": "deef66eb401210ddb287be7169603a6e59b0ce03",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e04eb01_0ee2379c",
        "filename": "client/tests/phpunit/includes/hooks/LanguageLinkBadgeHandlerTest.php",
        "patchSetId": 14
      },
      "lineNbr": 99,
      "author": {
        "id": 44
      },
      "writtenOn": "2014-02-22T18:52:10Z",
      "side": 1,
      "message": "Not a critical issue in this commit, though in general try not to simply write one test method per production method. This is a code smell. It is better to have one test method per behaviour you want to assert from the method under test, which makes the tests much simpler and easier to read/maintain.",
      "revId": "deef66eb401210ddb287be7169603a6e59b0ce03",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    }
  ]
}