{
  "comments": [
    {
      "key": {
        "uuid": "0ebaf39b_daf706f1",
        "filename": "lib/includes/PropertyInfoSnakUrlExpander.php",
        "patchSetId": 6
      },
      "lineNbr": 11,
      "author": {
        "id": 1453
      },
      "writtenOn": "2015-11-24T15:51:45Z",
      "side": 1,
      "message": "How is a \"data value type id\" relevant for a class that gets a snak and returns a URL? I think this describes a private implementation detail which is not relevant for a user of this class.",
      "revId": "4459044eee30e7afcbf0b8c4879bdd175472333a",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0ebaf39b_bf5481ca",
        "filename": "lib/includes/PropertyInfoSnakUrlExpander.php",
        "patchSetId": 6
      },
      "lineNbr": 11,
      "author": {
        "id": 128
      },
      "writtenOn": "2015-11-24T19:17:43Z",
      "side": 1,
      "message": "This is completely wrong, it\u0027s a copy \u0026 paste mistake from ProeprtyInfoDataTypeLookup. Sorry for the confusion.",
      "parentUuid": "0ebaf39b_daf706f1",
      "revId": "4459044eee30e7afcbf0b8c4879bdd175472333a",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0ebaf39b_dace26b9",
        "filename": "lib/includes/PropertyInfoSnakUrlExpander.php",
        "patchSetId": 6
      },
      "lineNbr": 32,
      "author": {
        "id": 1453
      },
      "writtenOn": "2015-11-24T15:51:45Z",
      "side": 1,
      "message": "Key for what? Property info? The key for that is a static \"info\", isn\u0027t it? Why is this configurable? Why doesn\u0027t it have a default?\n\nThis feels like exposing an implementation detail of the PropertyInfoStore. The source from where it gets the actual info about the data type.\n\nOr let me ask the question this way: If all this class cares about is the data type, why doesn\u0027t it use a DataTypeLookup?\n\nHm. I realize this is not about data types, but about something else, that happens to use the same \"PropertyInfoStore\". But again, passing in the key as a parameter means you are exposing internal knowledge. Why should a caller of a \"PropertyInfoSnakUrlExpander\" be able to pass in, for example, \"type\" as a key and mess up everything that\u0027s going on here? Instead this class should know which keys it should use to actually be able to format URLs.\n\nPlease limit this somehow, either by introducing an other service or by limiting the keys you can pass in here.\n\nPlease, at least, add an expressive description, actually listing these keys.",
      "revId": "4459044eee30e7afcbf0b8c4879bdd175472333a",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0ebaf39b_7f1cc918",
        "filename": "lib/includes/PropertyInfoSnakUrlExpander.php",
        "patchSetId": 6
      },
      "lineNbr": 32,
      "author": {
        "id": 128
      },
      "writtenOn": "2015-11-24T19:17:43Z",
      "side": 1,
      "message": "The reason the key is configurable is that we then can use this class (and interface) with any URL pattern that we may have in the PropertyInfoStore. Currently, there is only the formatterUrl, but soon we will also have the canonicalUri pattern. \n\nThis class pulls a URL pattern from a PropertyInfoStore and uses it to build a URL from an ID string. I see no reason to limit which PropertyInfo-keys can be used for that.",
      "parentUuid": "0ebaf39b_dace26b9",
      "revId": "4459044eee30e7afcbf0b8c4879bdd175472333a",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0ebaf39b_da22a64f",
        "filename": "lib/tests/phpunit/PropertyInfoSnakUrlExpanderTest.php",
        "patchSetId": 6
      },
      "lineNbr": 33,
      "author": {
        "id": 1453
      },
      "writtenOn": "2015-11-24T15:56:03Z",
      "side": 1,
      "message": "Why are the data types set here? As far as I can tell they are not used in these tests.",
      "revId": "4459044eee30e7afcbf0b8c4879bdd175472333a",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0ebaf39b_1fdb4d55",
        "filename": "lib/tests/phpunit/PropertyInfoSnakUrlExpanderTest.php",
        "patchSetId": 6
      },
      "lineNbr": 33,
      "author": {
        "id": 128
      },
      "writtenOn": "2015-11-24T19:17:43Z",
      "side": 1,
      "message": "So we can test the case where there is a PropertyInfo entry for a given property, but that entry doesn\u0027t contain the required key. That\u0027s different from there not being any entry for the property.\n\nIt doesn\u0027t matter whether it\u0027s the data type though, I could just as well just set \u0027foo\u0027 \u003d\u003e \u0027bar\u0027.",
      "parentUuid": "0ebaf39b_da22a64f",
      "revId": "4459044eee30e7afcbf0b8c4879bdd175472333a",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    }
  ]
}