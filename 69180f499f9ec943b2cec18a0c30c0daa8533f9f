{
  "comments": [
    {
      "key": {
        "uuid": "1d948f3d_eaffebb9",
        "filename": "repo/includes/Store/ItemTermsRebuilder.php",
        "patchSetId": 2
      },
      "lineNbr": 24,
      "author": {
        "id": 4699
      },
      "writtenOn": "2019-05-13T15:51:00Z",
      "side": 1,
      "message": "Would be nice to have phpdoc @type on all of these.",
      "revId": "69180f499f9ec943b2cec18a0c30c0daa8533f9f",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "76ec5b92_3c5c567f",
        "filename": "repo/includes/Store/ItemTermsRebuilder.php",
        "patchSetId": 2
      },
      "lineNbr": 26,
      "author": {
        "id": 4699
      },
      "writtenOn": "2019-05-13T15:51:00Z",
      "side": 1,
      "message": "Would be nice to have phpdoc here – for example, $batchSpacingInSeconds sounds like it could be a float, but actually must be an int, since it’s passed into sleep(). (Well, you can pass in a float, but it’ll be truncated, which is probably not what you want.)",
      "revId": "69180f499f9ec943b2cec18a0c30c0daa8533f9f",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bb822f4e_10232c1b",
        "filename": "repo/includes/Store/ItemTermsRebuilder.php",
        "patchSetId": 2
      },
      "lineNbr": 56,
      "author": {
        "id": 4699
      },
      "writtenOn": "2019-05-13T15:51:00Z",
      "side": 1,
      "message": "Might return false in case of timeout, in that case we should probably abort.",
      "revId": "69180f499f9ec943b2cec18a0c30c0daa8533f9f",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "68b8f8ca_c235387b",
        "filename": "repo/includes/Store/ItemTermsRebuilder.php",
        "patchSetId": 2
      },
      "lineNbr": 81,
      "author": {
        "id": 4699
      },
      "writtenOn": "2019-05-13T15:51:00Z",
      "side": 1,
      "message": "array $itemIds",
      "range": {
        "startLine": 81,
        "startChar": 40,
        "endLine": 81,
        "endChar": 48
      },
      "revId": "69180f499f9ec943b2cec18a0c30c0daa8533f9f",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "74fa40ae_dffd2f40",
        "filename": "repo/includes/Store/ItemTermsRebuilder.php",
        "patchSetId": 2
      },
      "lineNbr": 83,
      "author": {
        "id": 4699
      },
      "writtenOn": "2019-05-13T15:51:00Z",
      "side": 1,
      "message": "Is this a TODO to be fixed in a later patch set of the same change or one for later?",
      "revId": "69180f499f9ec943b2cec18a0c30c0daa8533f9f",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b46a7530_20fc3580",
        "filename": "repo/includes/Store/ItemTermsRebuilder.php",
        "patchSetId": 2
      },
      "lineNbr": 98,
      "author": {
        "id": 4699
      },
      "writtenOn": "2019-05-13T15:51:00Z",
      "side": 1,
      "message": "This is a bit misleading, since as far as I can tell we’re rolling back a whole batch of items, not just the one mentioned in the error message. Perhaps there should be a commit (without wait for replication) after each saveTerms() call?",
      "revId": "69180f499f9ec943b2cec18a0c30c0daa8533f9f",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f7a7b461_2004ebbb",
        "filename": "repo/maintenance/rebuildItemTerms.php",
        "patchSetId": 2
      },
      "lineNbr": 41,
      "author": {
        "id": 4699
      },
      "writtenOn": "2019-05-13T15:51:00Z",
      "side": 1,
      "message": "As far as I can tell, that’s not how the option currently works – with the default values, newItemIdIterator() won’t yield any IDs, because $id \u003c\u003d $toId is already false on the very first iteration.",
      "revId": "69180f499f9ec943b2cec18a0c30c0daa8533f9f",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4020df8c_ca3c67e2",
        "filename": "repo/maintenance/rebuildItemTerms.php",
        "patchSetId": 2
      },
      "lineNbr": 66,
      "author": {
        "id": 4699
      },
      "writtenOn": "2019-05-13T15:51:00Z",
      "side": 1,
      "message": "Passing an exit code to error() is deprecated, we should use fatalError() instead.",
      "range": {
        "startLine": 66,
        "startChar": 4,
        "endLine": 66,
        "endChar": 5
      },
      "revId": "69180f499f9ec943b2cec18a0c30c0daa8533f9f",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b4b43db0_4235f5ef",
        "filename": "repo/tests/phpunit/includes/Store/ItemTermsRebuilderTest.php",
        "patchSetId": 2
      },
      "lineNbr": 108,
      "author": {
        "id": 4699
      },
      "writtenOn": "2019-05-13T15:51:00Z",
      "side": 1,
      "message": "Item",
      "range": {
        "startLine": 108,
        "startChar": 29,
        "endLine": 108,
        "endChar": 33
      },
      "revId": "69180f499f9ec943b2cec18a0c30c0daa8533f9f",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "033699ea_8fdb65f2",
        "filename": "repo/tests/phpunit/includes/Store/ItemTermsRebuilderTest.php",
        "patchSetId": 2
      },
      "lineNbr": 135,
      "author": {
        "id": 4699
      },
      "writtenOn": "2019-05-13T15:51:00Z",
      "side": 1,
      "message": "I think these can be significantly simplified using the `NewItem` helper class, for example:\n\n return NewItem::withId( \u0027Q1\u0027 )\n \t-\u003eandLabel( \u0027en\u0027, \u0027EnglishPropLabel\u0027 )\n \t-\u003eandLabel( \u0027de\u0027, \u0027GermanPropLabel\u0027 )\n \t-\u003eandLabel( \u0027nl\u0027, \u0027DutchPropLabel\u0027 )\n \t-\u003ebuild();",
      "range": {
        "startLine": 103,
        "startChar": 0,
        "endLine": 135,
        "endChar": 2
      },
      "revId": "69180f499f9ec943b2cec18a0c30c0daa8533f9f",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a3ca7c09_6a346218",
        "filename": "repo/tests/phpunit/includes/Store/ItemTermsRebuilderTest.php",
        "patchSetId": 2
      },
      "lineNbr": 163,
      "author": {
        "id": 4699
      },
      "writtenOn": "2019-05-13T15:51:00Z",
      "side": 1,
      "message": "Items",
      "range": {
        "startLine": 163,
        "startChar": 32,
        "endLine": 163,
        "endChar": 42
      },
      "revId": "69180f499f9ec943b2cec18a0c30c0daa8533f9f",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": true
    }
  ]
}