{
  "comments": [
    {
      "key": {
        "uuid": "4e7eab26_7980138f",
        "filename": "client/includes/Changes/WikiPageUpdater.php",
        "patchSetId": 1
      },
      "lineNbr": 156,
      "author": {
        "id": 128
      },
      "writtenOn": "2017-09-15T09:56:46Z",
      "side": 1,
      "message": "Hm... I prefer using getters also for internal access. There are good reasons for both, food for fun discussions: https://stackoverflow.com/questions/8466790/java-conventions-use-getters-setters-within-the-class \nhttps://stackoverflow.com/questions/10566222/using-getter-setter-inside-a-class-good-or-bad-practice",
      "revId": "a3137f1063a5788a2d66b251907c67ba661a9a57",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e7eab26_d947c77a",
        "filename": "client/includes/Changes/WikiPageUpdater.php",
        "patchSetId": 1
      },
      "lineNbr": 202,
      "author": {
        "id": 128
      },
      "writtenOn": "2017-09-15T09:56:46Z",
      "side": 1,
      "message": "I deliberately decided against doing this, because this is error prone. If the code above changes to no longer be one job per title, changes are good that this line remains unchanged, producing bad stats.",
      "revId": "a3137f1063a5788a2d66b251907c67ba661a9a57",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e7eab26_8b42463e",
        "filename": "client/includes/Changes/WikiPageUpdater.php",
        "patchSetId": 1
      },
      "lineNbr": 202,
      "author": {
        "id": 4089
      },
      "writtenOn": "2017-09-15T11:15:52Z",
      "side": 1,
      "message": "Is there a test for this?\nIf there is I don\u0027t think it needs discussion. \nIf there is none (as far as I found it is the case), then one should be added in this patch. Refactoring untested code is very dangerous, so it shouldn\u0027t be done (with exception to minimal refactorings that are needed to be able to write tests).",
      "parentUuid": "4e7eab26_d947c77a",
      "revId": "a3137f1063a5788a2d66b251907c67ba661a9a57",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e7eab26_6b5efa18",
        "filename": "client/includes/Changes/WikiPageUpdater.php",
        "patchSetId": 1
      },
      "lineNbr": 202,
      "author": {
        "id": 128
      },
      "writtenOn": "2017-09-15T11:20:08Z",
      "side": 1,
      "message": "The unit test currently does not check the stats updates, since they are essentially logging. Unit tests rarely cover logging output - ideally they should, but it\u0027s not common, and perhaps would be overkill.\n\nIn the case at hand, $c and count( $titles ) will be the same; Them being the same is not part of the contract, though.",
      "parentUuid": "4e7eab26_8b42463e",
      "revId": "a3137f1063a5788a2d66b251907c67ba661a9a57",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e7eab26_2b86b26a",
        "filename": "client/includes/Changes/WikiPageUpdater.php",
        "patchSetId": 1
      },
      "lineNbr": 202,
      "author": {
        "id": 128
      },
      "writtenOn": "2017-09-15T11:23:50Z",
      "side": 1,
      "message": "...also, a unit test checking the stats increment would not detect the problem i mentioned: if the code changes, incrementStats would get the wrong number if we use count( $titles ). Burt since the wrong number is the same as before, the unit test would still pass (i assume that if updating stats was forgotten here, it was also forgotten in the unit test).\n\nWhen using $c and changing the code so there is no longer one job per title, a unit test asserting the stats increment would actually fail, and would have to be adjusted.",
      "parentUuid": "4e7eab26_6b5efa18",
      "revId": "a3137f1063a5788a2d66b251907c67ba661a9a57",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e7eab26_abe1422b",
        "filename": "client/includes/Changes/WikiPageUpdater.php",
        "patchSetId": 1
      },
      "lineNbr": 202,
      "author": {
        "id": 4089
      },
      "writtenOn": "2017-09-15T11:31:11Z",
      "side": 1,
      "message": "As soon as we are having this discussion, for me it means that having correct value in \"RefreshLinks.jobs\" counter is important, so the test is needed.\n\nRegarding correctness of the test it then should check that counter is equal to the number of jobs that were pushed. Then the test will fail if the code is changed and someone forgot to make change to the counter.",
      "parentUuid": "4e7eab26_2b86b26a",
      "revId": "a3137f1063a5788a2d66b251907c67ba661a9a57",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e7eab26_8bfa46b5",
        "filename": "client/includes/Changes/WikiPageUpdater.php",
        "patchSetId": 1
      },
      "lineNbr": 202,
      "author": {
        "id": 128
      },
      "writtenOn": "2017-09-15T12:03:29Z",
      "side": 1,
      "message": "fair enough",
      "parentUuid": "4e7eab26_abe1422b",
      "revId": "a3137f1063a5788a2d66b251907c67ba661a9a57",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e7eab26_f94ac383",
        "filename": "client/tests/phpunit/includes/Changes/WikiPageUpdaterTest.php",
        "patchSetId": 1
      },
      "lineNbr": 236,
      "author": {
        "id": 128
      },
      "writtenOn": "2017-09-15T09:56:46Z",
      "side": 1,
      "message": "why is that better?",
      "revId": "a3137f1063a5788a2d66b251907c67ba661a9a57",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e7eab26_99629f05",
        "filename": "docs/options.wiki",
        "patchSetId": 1
      },
      "lineNbr": 115,
      "author": {
        "id": 128
      },
      "writtenOn": "2017-09-15T09:56:46Z",
      "side": 1,
      "message": "Who is going to update the 300 if it changes?",
      "revId": "a3137f1063a5788a2d66b251907c67ba661a9a57",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    }
  ]
}