{
  "comments": [
    {
      "key": {
        "uuid": "2ef897d1_f5fba4b8",
        "filename": "client/tests/phpunit/includes/DispatchingServiceFactoryTest.php",
        "patchSetId": 3
      },
      "lineNbr": 62,
      "author": {
        "id": 4089
      },
      "writtenOn": "2017-02-09T19:05:15Z",
      "side": 1,
      "message": "@WMDE-leszek What do you think about that?",
      "range": {
        "startLine": 62,
        "startChar": 1,
        "endLine": 62,
        "endChar": 121
      },
      "revId": "c189fc52194e0f61d98aebca5b43f929d94c291e",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2ef897d1_69d91df8",
        "filename": "client/tests/phpunit/includes/DispatchingServiceFactoryTest.php",
        "patchSetId": 3
      },
      "lineNbr": 62,
      "author": {
        "id": 2626
      },
      "writtenOn": "2017-02-10T09:44:30Z",
      "side": 1,
      "message": "So I\u0027ve made I comment some time ago, on PS1. Let me just copy it over here again:\n\n \u003e Good question. I haven\u0027t really think about it. But I guess it should be OK to have some services for not all repositories (e.g. we might not need PropertyInfoLookup for repos that don\u0027t provide properties). Dispatching services we\u0027ve implemented so far generally ignore entities from repositories they don\u0027t have a service configured for. So I believe it would fine if the factory also accept \"incomplete\" service maps. If this is right assumption DispatchingServiceFactory should be changed as currently does not allow this completely I think. But I will check with Daniel again about this.\n\nI haven\u0027t talked to Daniel about this yet but I am going to do this today!",
      "parentUuid": "2ef897d1_f5fba4b8",
      "range": {
        "startLine": 62,
        "startChar": 1,
        "endLine": 62,
        "endChar": 121
      },
      "revId": "c189fc52194e0f61d98aebca5b43f929d94c291e",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2ef897d1_6400243a",
        "filename": "client/tests/phpunit/includes/DispatchingServiceFactoryTest.php",
        "patchSetId": 3
      },
      "lineNbr": 62,
      "author": {
        "id": 128
      },
      "writtenOn": "2017-02-10T11:55:00Z",
      "side": 1,
      "message": "Currently, DispatchingServiceFactory is defined to create the same services for all repos. However, this is not a requirement - it could be \"smart\" and only create a PropertyInfoLookup for repos from which we load properties, for example. Whether a service should exist for all repos really depends on the individual service.",
      "parentUuid": "2ef897d1_69d91df8",
      "range": {
        "startLine": 62,
        "startChar": 1,
        "endLine": 62,
        "endChar": 121
      },
      "revId": "c189fc52194e0f61d98aebca5b43f929d94c291e",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2ef897d1_eebd41ae",
        "filename": "client/tests/phpunit/includes/DispatchingServiceFactoryTest.php",
        "patchSetId": 3
      },
      "lineNbr": 152,
      "author": {
        "id": 1453
      },
      "writtenOn": "2017-02-02T17:32:10Z",
      "side": 1,
      "message": "Can you please rename this? Or even inline it? Or replace with more trivial getMock from PHPUnit? Because it looks like the features from the \"prophesize\" are not needed here.",
      "range": {
        "startLine": 152,
        "startChar": 18,
        "endLine": 152,
        "endChar": 23
      },
      "revId": "c189fc52194e0f61d98aebca5b43f929d94c291e",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2ef897d1_fe25d856",
        "filename": "client/tests/phpunit/includes/DispatchingServiceFactoryTest.php",
        "patchSetId": 3
      },
      "lineNbr": 152,
      "author": {
        "id": 4089
      },
      "writtenOn": "2017-02-07T12:15:55Z",
      "side": 1,
      "message": "It is just a helper method to express intention that I don\u0027t want MOCK I want DUMMY.\n\nWith PhpUnit it will be: `$this-\u003egetMockBuilder($class)-\u003edisableOriginalConstructor()-\u003egetMock();`\nIs it really better?",
      "parentUuid": "2ef897d1_eebd41ae",
      "range": {
        "startLine": 152,
        "startChar": 18,
        "endLine": 152,
        "endChar": 23
      },
      "revId": "c189fc52194e0f61d98aebca5b43f929d94c291e",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2ef897d1_52e3ae32",
        "filename": "client/tests/phpunit/includes/DispatchingServiceFactoryTest.php",
        "patchSetId": 3
      },
      "lineNbr": 152,
      "author": {
        "id": 1453
      },
      "writtenOn": "2017-02-09T17:12:37Z",
      "side": 1,
      "message": "It\u0027s just that a method that is literally called a \"dummy\" method looks like something the developer forgot to remove while preparing a patch. \"getDummy\" would be much better.\n\nAnd yes,\n\n$this-\u003egetMockBuilder( … )\n    -\u003edisableOriginalConstructor()\n    -\u003egetMock();\n\nis better because this is what is used hundreds of times in our code base. People are very used to this, but not to $this-\u003edummy( … ).",
      "parentUuid": "2ef897d1_fe25d856",
      "range": {
        "startLine": 152,
        "startChar": 18,
        "endLine": 152,
        "endChar": 23
      },
      "revId": "c189fc52194e0f61d98aebca5b43f929d94c291e",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2ef897d1_75bc54d5",
        "filename": "client/tests/phpunit/includes/DispatchingServiceFactoryTest.php",
        "patchSetId": 3
      },
      "lineNbr": 152,
      "author": {
        "id": 4089
      },
      "writtenOn": "2017-02-09T19:05:15Z",
      "side": 1,
      "message": "\u003e It\u0027s just that a method that is literally called a \"dummy\" method looks like something the developer forgot to remove while preparing a patch.\n\nIt even has documentation describing exactly what it does.\n\nI\u0027m not sure I understand the rest correctly, lets discuss in person.",
      "parentUuid": "2ef897d1_52e3ae32",
      "range": {
        "startLine": 152,
        "startChar": 18,
        "endLine": 152,
        "endChar": 23
      },
      "revId": "c189fc52194e0f61d98aebca5b43f929d94c291e",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2ef897d1_8ee36dd4",
        "filename": "client/tests/phpunit/includes/DispatchingServiceFactoryTest.php",
        "patchSetId": 3
      },
      "lineNbr": 166,
      "author": {
        "id": 1453
      },
      "writtenOn": "2017-02-02T17:32:10Z",
      "side": 1,
      "message": "Do you know of this neat hack?\n\n return (object)[ \u0027description\u0027 \u003d\u003e $description ];",
      "revId": "c189fc52194e0f61d98aebca5b43f929d94c291e",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2ef897d1_3edb7056",
        "filename": "client/tests/phpunit/includes/DispatchingServiceFactoryTest.php",
        "patchSetId": 3
      },
      "lineNbr": 166,
      "author": {
        "id": 4089
      },
      "writtenOn": "2017-02-07T12:15:55Z",
      "side": 1,
      "message": "No, I didn\u0027t.\nDo you think we should use it?",
      "parentUuid": "2ef897d1_8ee36dd4",
      "revId": "c189fc52194e0f61d98aebca5b43f929d94c291e",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2ef897d1_32c5d290",
        "filename": "client/tests/phpunit/includes/DispatchingServiceFactoryTest.php",
        "patchSetId": 3
      },
      "lineNbr": 166,
      "author": {
        "id": 1453
      },
      "writtenOn": "2017-02-09T17:12:37Z",
      "side": 1,
      "message": "No, what you did here is fine.",
      "parentUuid": "2ef897d1_3edb7056",
      "revId": "c189fc52194e0f61d98aebca5b43f929d94c291e",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    }
  ]
}