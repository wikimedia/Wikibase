{
  "comments": [
    {
      "key": {
        "uuid": "ae6ac7d6_dc00c206",
        "filename": "repo/Wikibase.hooks.php",
        "patchSetId": 3
      },
      "lineNbr": 1006,
      "author": {
        "id": 128
      },
      "writtenOn": "2015-01-19T17:44:43Z",
      "side": 1,
      "message": "The factory no longer needs a registry?\nWhy are the two separate, anyway?",
      "revId": "1240a5184d8f8fe22a28af0ffb26534f88a51251",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ae6ac7d6_dc05227e",
        "filename": "repo/Wikibase.hooks.php",
        "patchSetId": 3
      },
      "lineNbr": 1006,
      "author": {
        "id": 1453
      },
      "writtenOn": "2015-01-19T18:50:06Z",
      "side": 1,
      "message": "I have no idea, and this patch actually tries to go a first step in a direction that does not need the two separated.",
      "parentUuid": "ae6ac7d6_dc00c206",
      "revId": "1240a5184d8f8fe22a28af0ffb26534f88a51251",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ae6ac7d6_9c0a4a23",
        "filename": "repo/includes/Template/TemplateFactory.php",
        "patchSetId": 3
      },
      "lineNbr": 20,
      "author": {
        "id": 128
      },
      "writtenOn": "2015-01-19T17:44:43Z",
      "side": 1,
      "message": "Defaultign to global state access in the constructor is evil. Dependency injection should be forced when possible.",
      "revId": "1240a5184d8f8fe22a28af0ffb26534f88a51251",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ae6ac7d6_bc006e6e",
        "filename": "repo/includes/Template/TemplateFactory.php",
        "patchSetId": 3
      },
      "lineNbr": 20,
      "author": {
        "id": 1453
      },
      "writtenOn": "2015-01-19T18:50:06Z",
      "side": 1,
      "message": "I consider repeating that global state all over the code base much worse.",
      "parentUuid": "ae6ac7d6_9c0a4a23",
      "revId": "1240a5184d8f8fe22a28af0ffb26534f88a51251",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ae6ac7d6_fc7021a5",
        "filename": "repo/includes/Template/TemplateFactory.php",
        "patchSetId": 3
      },
      "lineNbr": 20,
      "author": {
        "id": 128
      },
      "writtenOn": "2015-01-20T15:10:22Z",
      "side": 1,
      "message": "This does not remove access to global state from any code path, it just hides it.\nHaving explicit access to global state across the codebase is bad. Having hidden access to global state across the codebase isn\u0027t better. \n\nThe points in the code that were calling TemplateRegistry::getDefaultInstance are points where injection of *something* is needed *somehow*. I do not see how this patch makes it easier to introduce that injection.",
      "parentUuid": "ae6ac7d6_bc006e6e",
      "revId": "1240a5184d8f8fe22a28af0ffb26534f88a51251",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ae6ac7d6_3c0f7e35",
        "filename": "repo/includes/Template/TemplateRegistry.php",
        "patchSetId": 3
      },
      "lineNbr": 22,
      "author": {
        "id": 128
      },
      "writtenOn": "2015-01-19T17:44:43Z",
      "side": 1,
      "message": "why did the order change?",
      "revId": "1240a5184d8f8fe22a28af0ffb26534f88a51251",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ae6ac7d6_7ce3b6d4",
        "filename": "repo/includes/Template/TemplateRegistry.php",
        "patchSetId": 3
      },
      "lineNbr": 22,
      "author": {
        "id": 1453
      },
      "writtenOn": "2015-01-19T18:50:06Z",
      "side": 1,
      "message": "Because static first.",
      "parentUuid": "ae6ac7d6_3c0f7e35",
      "revId": "1240a5184d8f8fe22a28af0ffb26534f88a51251",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ae6ac7d6_1c163a4e",
        "filename": "repo/includes/Template/TemplateRegistry.php",
        "patchSetId": 3
      },
      "lineNbr": 80,
      "author": {
        "id": 128
      },
      "writtenOn": "2015-01-19T17:44:43Z",
      "side": 1,
      "message": "this should check the type of  $snippet",
      "revId": "1240a5184d8f8fe22a28af0ffb26534f88a51251",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ae6ac7d6_3ccd3e63",
        "filename": "repo/includes/Template/TemplateRegistry.php",
        "patchSetId": 3
      },
      "lineNbr": 80,
      "author": {
        "id": 1453
      },
      "writtenOn": "2015-01-19T18:50:06Z",
      "side": 1,
      "message": "It could, but why? It\u0027s converted to a string anyway. Note that a) This is legacy code that was just moved here. b) An error check here would only be triggered if something horribly is going on on templates.php, but who should do that and how? c) This is going to be replaced with an other templating system anyway.",
      "parentUuid": "ae6ac7d6_1c163a4e",
      "revId": "1240a5184d8f8fe22a28af0ffb26534f88a51251",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ae6ac7d6_dc6f5dbf",
        "filename": "repo/includes/Template/TemplateRegistry.php",
        "patchSetId": 3
      },
      "lineNbr": 80,
      "author": {
        "id": 128
      },
      "writtenOn": "2015-01-20T15:10:22Z",
      "side": 1,
      "message": "The idea was that it should not be possible to supply broken values to the constructor which may cause problems later. But you are right, it\u0027s converted to string anyway, so not much harm done.",
      "parentUuid": "ae6ac7d6_3ccd3e63",
      "revId": "1240a5184d8f8fe22a28af0ffb26534f88a51251",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ae6ac7d6_fc2fc683",
        "filename": "repo/includes/WikibaseRepo.php",
        "patchSetId": 3
      },
      "lineNbr": 1014,
      "author": {
        "id": 128
      },
      "writtenOn": "2015-01-19T17:44:43Z",
      "side": 1,
      "message": "$this-\u003egetTemplateFactory()   \u003c--- that would know about the default registry.",
      "revId": "1240a5184d8f8fe22a28af0ffb26534f88a51251",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ae6ac7d6_bc494e6c",
        "filename": "repo/tests/phpunit/includes/ItemDisambiguationTest.php",
        "patchSetId": 3
      },
      "lineNbr": 131,
      "author": {
        "id": 128
      },
      "writtenOn": "2015-01-19T17:44:43Z",
      "side": 1,
      "message": "why?",
      "revId": "1240a5184d8f8fe22a28af0ffb26534f88a51251",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ae6ac7d6_bcd94e2e",
        "filename": "repo/tests/phpunit/includes/ItemDisambiguationTest.php",
        "patchSetId": 3
      },
      "lineNbr": 131,
      "author": {
        "id": 1453
      },
      "writtenOn": "2015-01-19T18:50:06Z",
      "side": 1,
      "message": "It feels like I explained this a hundred times. See the commit message in I8fa5b47.",
      "parentUuid": "ae6ac7d6_bc494e6c",
      "revId": "1240a5184d8f8fe22a28af0ffb26534f88a51251",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ae6ac7d6_9c61e5d2",
        "filename": "repo/tests/phpunit/includes/ItemDisambiguationTest.php",
        "patchSetId": 3
      },
      "lineNbr": 131,
      "author": {
        "id": 128
      },
      "writtenOn": "2015-01-20T15:10:22Z",
      "side": 1,
      "message": "There you claim that PHPStorm removes top level classes from use statements. That\u0027s not true - works fine for me in PhpStorm 8 at least. \n\nAlso, the fact that we do this wrong in many places isn\u0027t a good argument for doing it wrong in more places.\n\nI don\u0027t care much, it\u0027s just one more random change unrelated to the objective of this change that adds to my confusion.",
      "parentUuid": "ae6ac7d6_bcd94e2e",
      "revId": "1240a5184d8f8fe22a28af0ffb26534f88a51251",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ae6ac7d6_fcefbc80",
        "filename": "repo/tests/phpunit/includes/ItemDisambiguationTest.php",
        "patchSetId": 3
      },
      "lineNbr": 131,
      "author": {
        "id": 1366
      },
      "writtenOn": "2015-01-21T09:44:17Z",
      "side": 1,
      "message": "I care about this, and I think it is wrong. I want to see as much of the external dependencies as possible in the use section.",
      "parentUuid": "ae6ac7d6_bcd94e2e",
      "revId": "1240a5184d8f8fe22a28af0ffb26534f88a51251",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ae6ac7d6_5c3a72c1",
        "filename": "repo/tests/phpunit/includes/Template/TemplateRegistryTest.php",
        "patchSetId": 3
      },
      "lineNbr": 38,
      "author": {
        "id": 128
      },
      "writtenOn": "2015-01-19T17:44:43Z",
      "side": 1,
      "message": "the cases do not access different code pathes. one case would be enough, so no provider is needed.",
      "revId": "1240a5184d8f8fe22a28af0ffb26534f88a51251",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ae6ac7d6_3cc69e4f",
        "filename": "repo/tests/phpunit/includes/Template/TemplateRegistryTest.php",
        "patchSetId": 3
      },
      "lineNbr": 38,
      "author": {
        "id": 1453
      },
      "writtenOn": "2015-01-19T18:50:06Z",
      "side": 1,
      "message": "I did not wrote this code.",
      "parentUuid": "ae6ac7d6_5c3a72c1",
      "revId": "1240a5184d8f8fe22a28af0ffb26534f88a51251",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ae6ac7d6_fc9fc1b7",
        "filename": "repo/tests/phpunit/includes/Template/TemplateRegistryTest.php",
        "patchSetId": 3
      },
      "lineNbr": 38,
      "author": {
        "id": 128
      },
      "writtenOn": "2015-01-20T15:10:22Z",
      "side": 1,
      "message": "Just pointing out another way to make the code simpler.",
      "parentUuid": "ae6ac7d6_3cc69e4f",
      "revId": "1240a5184d8f8fe22a28af0ffb26534f88a51251",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ae6ac7d6_bc706ea4",
        "filename": "repo/tests/phpunit/includes/Template/TemplateRegistryTest.php",
        "patchSetId": 3
      },
      "lineNbr": 57,
      "author": {
        "id": 128
      },
      "writtenOn": "2015-01-19T17:44:43Z",
      "side": 1,
      "message": "no provider needed for a single case, unless more are expected to be added later. Can\u0027t think of how that would make sense in this case.",
      "revId": "1240a5184d8f8fe22a28af0ffb26534f88a51251",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ae6ac7d6_5cc3523d",
        "filename": "repo/tests/phpunit/includes/Template/TemplateRegistryTest.php",
        "patchSetId": 3
      },
      "lineNbr": 57,
      "author": {
        "id": 1453
      },
      "writtenOn": "2015-01-19T18:50:06Z",
      "side": 1,
      "message": "I did not wrote this code.",
      "parentUuid": "ae6ac7d6_bc706ea4",
      "revId": "1240a5184d8f8fe22a28af0ffb26534f88a51251",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ae6ac7d6_5c5b4d26",
        "filename": "repo/tests/phpunit/includes/Template/TemplateRegistryTest.php",
        "patchSetId": 3
      },
      "lineNbr": 57,
      "author": {
        "id": 128
      },
      "writtenOn": "2015-01-20T15:10:22Z",
      "side": 1,
      "message": "Just pointing out another way to make the code simpler.",
      "parentUuid": "ae6ac7d6_5cc3523d",
      "revId": "1240a5184d8f8fe22a28af0ffb26534f88a51251",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ae6ac7d6_7c6ad6b2",
        "filename": "repo/tests/phpunit/includes/View/ClaimHtmlGeneratorTest.php",
        "patchSetId": 3
      },
      "lineNbr": 89,
      "author": {
        "id": 128
      },
      "writtenOn": "2015-01-19T17:44:43Z",
      "side": 1,
      "message": "relies on global state... should be mocked, really.",
      "revId": "1240a5184d8f8fe22a28af0ffb26534f88a51251",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ae6ac7d6_3c645ee1",
        "filename": "repo/tests/phpunit/includes/View/ClaimsViewTest.php",
        "patchSetId": 3
      },
      "lineNbr": 109,
      "author": {
        "id": 128
      },
      "writtenOn": "2015-01-19T17:44:43Z",
      "side": 1,
      "message": "use proper mock or default instance, not hidden global state.",
      "revId": "1240a5184d8f8fe22a28af0ffb26534f88a51251",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    }
  ]
}