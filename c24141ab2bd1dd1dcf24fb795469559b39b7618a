{
  "comments": [
    {
      "key": {
        "uuid": "e494daf4_f6212357",
        "filename": "lib/includes/Store/DelegatingEntityTermStoreWriter.php",
        "patchSetId": 9
      },
      "lineNbr": 28,
      "author": {
        "id": 920
      },
      "writtenOn": "2019-04-16T11:09:22Z",
      "side": 1,
      "message": "This code assumes there are only two types of entities and it is not extendible so later WikibaseLexeme can\u0027t use the new schema (which it should to improve performance of wikidata) the only reason we didn\u0027t use wb_terms for lexeme was that it was exploding.",
      "range": {
        "startLine": 28,
        "startChar": 1,
        "endLine": 28,
        "endChar": 34
      },
      "revId": "c24141ab2bd1dd1dcf24fb795469559b39b7618a",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6fe2144c_3a4622e6",
        "filename": "lib/includes/Store/DelegatingEntityTermStoreWriter.php",
        "patchSetId": 9
      },
      "lineNbr": 28,
      "author": {
        "id": 44
      },
      "writtenOn": "2019-04-16T14:00:31Z",
      "side": 1,
      "message": "Making it generic to include entities from another sub domain is an anti-pattern. See https://www.entropywins.wtf/blog/2017/05/24/generic-entity-handling-code/\n\nIdeal case is that code uses persistence services for a specific type of entity. This particular class is more generic since it is an adapter to a legacy interface. Maybe we get rid of the legacy interface and this adapter altogether in the future. Removing that technical debt might not be the most cost effective thing for us to do though.",
      "parentUuid": "e494daf4_f6212357",
      "range": {
        "startLine": 28,
        "startChar": 1,
        "endLine": 28,
        "endChar": 34
      },
      "revId": "c24141ab2bd1dd1dcf24fb795469559b39b7618a",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "215f8d4f_bd72ee5f",
        "filename": "lib/includes/Store/DelegatingEntityTermStoreWriter.php",
        "patchSetId": 9
      },
      "lineNbr": 28,
      "author": {
        "id": 920
      },
      "writtenOn": "2019-04-16T14:22:30Z",
      "side": 1,
      "message": "This can be easily done in EntityTypeDefintions: https://github.com/wikimedia/mediawiki-extensions-Wikibase/blob/master/lib/includes/EntityTypeDefinitions.php\nI don\u0027t see it being too difficult + it\u0027s more consistent with the pattern Wikibase does entity-based actions.",
      "parentUuid": "6fe2144c_3a4622e6",
      "range": {
        "startLine": 28,
        "startChar": 1,
        "endLine": 28,
        "endChar": 34
      },
      "revId": "c24141ab2bd1dd1dcf24fb795469559b39b7618a",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": true
    }
  ]
}