{
  "comments": [
    {
      "key": {
        "uuid": "446c1137_de1ef006",
        "filename": "repo/tests/phpunit/includes/Store/Sql/WikiPageEntityStoreTest.php",
        "patchSetId": 5
      },
      "lineNbr": 495,
      "author": {
        "id": 6768
      },
      "writtenOn": "2019-05-03T08:36:09Z",
      "side": 1,
      "message": "wouldn\u0027t partial mocking here work?\n\nIf I\u0027m not blind to some detail here, something like the following should work as well:\n\n```\n$wikibaseServices \u003d $this-\u003egetMockBuilder( WikibaseServices::class )\n\t-\u003esetMethods([\u0027getStorageEntitySerializer\u0027])\n\t-\u003egetMock();\n\n$wikibaseServices-\u003eexpects( $this-\u003eany() )\n\t-\u003emethod( \u0027getStorageEntitySerializer\u0027 )\n\t-\u003ewill( $this-\u003ereturnValue( $storageEntitySerializer ) );\n\n$wikibaseRepo-\u003ewikibaseServices \u003d $wikibaseServices;\n```",
      "range": {
        "startLine": 469,
        "startChar": 0,
        "endLine": 495,
        "endChar": 0
      },
      "revId": "22a0e2cfee22058934212f50f39aa58d6115d1dc",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": true
    }
  ]
}