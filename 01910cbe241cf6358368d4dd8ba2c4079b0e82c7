{
  "comments": [
    {
      "key": {
        "uuid": "2ea41786_b2eac771",
        "filename": "docs/entities.wiki",
        "patchSetId": 6
      },
      "lineNbr": 4,
      "author": {
        "id": 549
      },
      "writtenOn": "2016-02-23T10:15:33Z",
      "side": 1,
      "message": "I think writing this document is a task on its own and should be done separately.",
      "revId": "01910cbe241cf6358368d4dd8ba2c4079b0e82c7",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2ea41786_e35b9355",
        "filename": "docs/entities.wiki",
        "patchSetId": 6
      },
      "lineNbr": 4,
      "author": {
        "id": 128
      },
      "writtenOn": "2016-02-23T17:24:41Z",
      "side": 1,
      "message": "Then please provide a patch doing that. Or at least file a ticket about it. \nTBH, I\u0027d prefer at least a basic version of the document to be in this patch. \nDocumentation should be written in parallel with the code, just like tests.",
      "parentUuid": "2ea41786_b2eac771",
      "revId": "01910cbe241cf6358368d4dd8ba2c4079b0e82c7",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2ea41786_0d07f9ce",
        "filename": "docs/entities.wiki",
        "patchSetId": 6
      },
      "lineNbr": 4,
      "author": {
        "id": 549
      },
      "writtenOn": "2016-02-23T20:57:51Z",
      "side": 1,
      "message": "This document however is not just about the implementation details but also about the general concept of entities which is way more abstract.",
      "parentUuid": "2ea41786_e35b9355",
      "revId": "01910cbe241cf6358368d4dd8ba2c4079b0e82c7",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2ea41786_4da0919a",
        "filename": "docs/entities.wiki",
        "patchSetId": 6
      },
      "lineNbr": 4,
      "author": {
        "id": 128
      },
      "writtenOn": "2016-02-23T21:21:22Z",
      "side": 1,
      "message": "In that case, this document should come before the implementation.",
      "parentUuid": "2ea41786_0d07f9ce",
      "revId": "01910cbe241cf6358368d4dd8ba2c4079b0e82c7",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2ea41786_f0d7d226",
        "filename": "docs/entities.wiki",
        "patchSetId": 6
      },
      "lineNbr": 4,
      "author": {
        "id": 549
      },
      "writtenOn": "2016-02-23T21:46:06Z",
      "side": 1,
      "message": "It acutally should come before any of the implementation done for Wikibase... I however couldn\u0027t find anything abstract about entities in general on mediawiki.org or anywhere else. Can you point me somewhere?",
      "parentUuid": "2ea41786_4da0919a",
      "revId": "01910cbe241cf6358368d4dd8ba2c4079b0e82c7",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2ea41786_59928558",
        "filename": "docs/entities.wiki",
        "patchSetId": 6
      },
      "lineNbr": 4,
      "author": {
        "id": 128
      },
      "writtenOn": "2016-02-25T15:17:31Z",
      "side": 1,
      "message": "The only thing I can point you to is https://www.mediawiki.org/wiki/Wikibase/DataModel which is probably too abstract",
      "parentUuid": "2ea41786_f0d7d226",
      "revId": "01910cbe241cf6358368d4dd8ba2c4079b0e82c7",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2ea41786_29d437be",
        "filename": "lib/WikibaseLib.entitytypes.php",
        "patchSetId": 6
      },
      "lineNbr": 23,
      "author": {
        "id": 128
      },
      "writtenOn": "2016-02-22T16:59:09Z",
      "side": 1,
      "message": "I\u0027d actually prefer the code that is now in newItemSerializer() to be inlined here.",
      "revId": "01910cbe241cf6358368d4dd8ba2c4079b0e82c7",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2ea41786_92d22bd4",
        "filename": "lib/WikibaseLib.entitytypes.php",
        "patchSetId": 6
      },
      "lineNbr": 23,
      "author": {
        "id": 549
      },
      "writtenOn": "2016-02-23T10:15:33Z",
      "side": 1,
      "message": "I don\u0027t see how that would improve the code and I\u0027d prefer to keep this file as small and simple as possible.",
      "parentUuid": "2ea41786_29d437be",
      "revId": "01910cbe241cf6358368d4dd8ba2c4079b0e82c7",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2ea41786_c70a2224",
        "filename": "lib/WikibaseLib.entitytypes.php",
        "patchSetId": 6
      },
      "lineNbr": 23,
      "author": {
        "id": 128
      },
      "writtenOn": "2016-02-23T17:24:41Z",
      "side": 1,
      "message": "This doesn\u0027t strike me as problematic:\n\n    new ItemSerializer(\n\t\t\t$this-\u003enewTermListSerializer(),\n\t\t\t$this-\u003enewAliasGroupListSerializer(),\n\t\t\t$this-\u003enewStatementListSerializer(),\n\t\t\t$this-\u003enewSiteLinkSerializer(),\n\t\t\t$this-\u003eshouldUseObjectsForMaps()\n\t\t);\n\nHiding the constructor call behind another level of indirection seems pointless, and doesn\u0027t make the code easier to read and understand.\n\nBut I don\u0027t consider this a blocker. Just a case of unnecessary layers...",
      "parentUuid": "2ea41786_92d22bd4",
      "revId": "01910cbe241cf6358368d4dd8ba2c4079b0e82c7",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2ea41786_8d6be981",
        "filename": "lib/WikibaseLib.entitytypes.php",
        "patchSetId": 6
      },
      "lineNbr": 23,
      "author": {
        "id": 549
      },
      "writtenOn": "2016-02-23T20:57:51Z",
      "side": 1,
      "message": "That isn\u0027t actually allowed as the component defines that serializes may only created by the factory and all classes other than the factories are package private.",
      "parentUuid": "2ea41786_c70a2224",
      "revId": "01910cbe241cf6358368d4dd8ba2c4079b0e82c7",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2ea41786_0d35b942",
        "filename": "lib/WikibaseLib.entitytypes.php",
        "patchSetId": 6
      },
      "lineNbr": 23,
      "author": {
        "id": 128
      },
      "writtenOn": "2016-02-23T21:21:22Z",
      "side": 1,
      "message": "That approach is contrary to the idea of injecting factory callbacks. It wouldn\u0027t be possible for other entity types. I\u0027d prefer to treat Items and Properties like other Entities if possible.",
      "parentUuid": "2ea41786_8d6be981",
      "revId": "01910cbe241cf6358368d4dd8ba2c4079b0e82c7",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2ea41786_10ddce47",
        "filename": "lib/WikibaseLib.entitytypes.php",
        "patchSetId": 6
      },
      "lineNbr": 23,
      "author": {
        "id": 549
      },
      "writtenOn": "2016-02-23T21:46:06Z",
      "side": 1,
      "message": "Wikibase DataModel Serialization in fact says:\n\n\"All access to services provided by this library should happen through the SerializerFactory and DeserializerFactory. The rest of the code is an implementation detail which users should not know about.\"\n\nOther extensions which define their own entity types cannot only use Wikibase DataModel Serialization but they can define their own custom (de)serializers which are then known at the relevant place. However, if we don\u0027t change the contract of the serialization component (which I don\u0027t think will and should happen), this is the only thing that is possible and also makes sense.\n\nBasically, that\u0027s also the point of the abstract Serializer/Deserializer interfaces: You don\u0027t know exactly how the object gets constructed and thus it is easy to change the (de)serializer classes without making a breaking change to the component.",
      "parentUuid": "2ea41786_0d35b942",
      "revId": "01910cbe241cf6358368d4dd8ba2c4079b0e82c7",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2ea41786_09d7fbc5",
        "filename": "lib/includes/EntityTypeDefinitions.php",
        "patchSetId": 6
      },
      "lineNbr": 27,
      "author": {
        "id": 128
      },
      "writtenOn": "2016-02-22T16:59:09Z",
      "side": 1,
      "message": "This abstraction seems like overkill to me.",
      "revId": "01910cbe241cf6358368d4dd8ba2c4079b0e82c7",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2ea41786_f2e03f95",
        "filename": "lib/includes/EntityTypeDefinitions.php",
        "patchSetId": 6
      },
      "lineNbr": 27,
      "author": {
        "id": 549
      },
      "writtenOn": "2016-02-23T10:15:33Z",
      "side": 1,
      "message": "Not sure... You\u0027d just copy the method from DataTypeDefinitions in here?\n\nAlso see https://gerrit.wikimedia.org/r/#/c/271080/2 for the relevant patch.",
      "parentUuid": "2ea41786_09d7fbc5",
      "revId": "01910cbe241cf6358368d4dd8ba2c4079b0e82c7",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2ea41786_670fae34",
        "filename": "lib/includes/EntityTypeDefinitions.php",
        "patchSetId": 6
      },
      "lineNbr": 27,
      "author": {
        "id": 128
      },
      "writtenOn": "2016-02-23T17:24:41Z",
      "side": 1,
      "message": "I would have just copied the code, yea.",
      "parentUuid": "2ea41786_f2e03f95",
      "revId": "01910cbe241cf6358368d4dd8ba2c4079b0e82c7",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2ea41786_2d68b583",
        "filename": "lib/includes/EntityTypeDefinitions.php",
        "patchSetId": 6
      },
      "lineNbr": 27,
      "author": {
        "id": 549
      },
      "writtenOn": "2016-02-23T20:57:51Z",
      "side": 1,
      "message": "Getting rid of it",
      "parentUuid": "2ea41786_670fae34",
      "revId": "01910cbe241cf6358368d4dd8ba2c4079b0e82c7",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    }
  ]
}