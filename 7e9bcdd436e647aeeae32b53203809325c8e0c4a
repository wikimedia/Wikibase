{
  "comments": [
    {
      "key": {
        "uuid": "6e436fe2_14b3c5fe",
        "filename": "repo/maintenance/searchEntities.php",
        "patchSetId": 20
      },
      "lineNbr": 79,
      "author": {
        "id": 128
      },
      "writtenOn": "2017-04-04T18:54:58Z",
      "side": 1,
      "message": "Ick, is this really necessary? I feel dirty after reading this...",
      "revId": "7e9bcdd436e647aeeae32b53203809325c8e0c4a",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e742343_c68b781a",
        "filename": "repo/maintenance/searchEntities.php",
        "patchSetId": 20
      },
      "lineNbr": 79,
      "author": {
        "id": 2096
      },
      "writtenOn": "2017-06-30T19:16:32Z",
      "side": 1,
      "message": "This is a feature that allows to change settings from command line. It is copied from runSearch.php in Cirrus, and is necessary in order to comparison-test various profiles (i.e., run once with one profile, than with another, compare results). We have scripts for relforge for this. It does not look pretty, but it\u0027s the easiest way to evaluate  profile changes.",
      "parentUuid": "6e436fe2_14b3c5fe",
      "revId": "7e9bcdd436e647aeeae32b53203809325c8e0c4a",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e742343_f64e5b3b",
        "filename": "repo/maintenance/searchEntities.php",
        "patchSetId": 20
      },
      "lineNbr": 79,
      "author": {
        "id": 128
      },
      "writtenOn": "2017-07-02T20:51:17Z",
      "side": 1,
      "message": "Not using global state would be preferable :)",
      "parentUuid": "8e742343_c68b781a",
      "revId": "7e9bcdd436e647aeeae32b53203809325c8e0c4a",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e742343_afe7110c",
        "filename": "repo/maintenance/searchEntities.php",
        "patchSetId": 20
      },
      "lineNbr": 79,
      "author": {
        "id": 2096
      },
      "writtenOn": "2017-07-03T20:45:17Z",
      "side": 1,
      "message": "As soon as Mediawiki config stops using it, sure :)",
      "parentUuid": "8e742343_f64e5b3b",
      "revId": "7e9bcdd436e647aeeae32b53203809325c8e0c4a",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e7eab26_ac8c0a3b",
        "filename": "repo/maintenance/searchEntities.php",
        "patchSetId": 20
      },
      "lineNbr": 79,
      "author": {
        "id": 128
      },
      "writtenOn": "2017-08-03T13:18:25Z",
      "side": 1,
      "message": "How about not using any global state in any new code? That would help to at least not make the situation worse.",
      "parentUuid": "8e742343_afe7110c",
      "revId": "7e9bcdd436e647aeeae32b53203809325c8e0c4a",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e7eab26_d8cee5b8",
        "filename": "repo/maintenance/searchEntities.php",
        "patchSetId": 20
      },
      "lineNbr": 79,
      "author": {
        "id": 2096
      },
      "writtenOn": "2017-08-04T18:10:01Z",
      "side": 1,
      "message": "I won\u0027t think it\u0027s right to insist on this small isolated patch to lead global refactoring effort. What I am trying to do here is to enable searching for entities in command line, nothing more. If we insist we can\u0027t have searching on command line until we eliminate global state from mediawiki code, the end result would be we just won\u0027t have any searching on command line, period. At least not when we need it (as opposed to in distant future). \n\nThis is necessary to be able to change globals settings (such as profile settings) from the command line, to make profile comparison and tuning (as used in RelForge) work for Wikidata searches. Since there profiles are stored in globals, and that\u0027s not going to change without a major refactoring effort, I don\u0027t think it should happen in this patch.",
      "parentUuid": "4e7eab26_ac8c0a3b",
      "revId": "7e9bcdd436e647aeeae32b53203809325c8e0c4a",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e7eab26_93f6fed2",
        "filename": "repo/maintenance/searchEntities.php",
        "patchSetId": 20
      },
      "lineNbr": 79,
      "author": {
        "id": 128
      },
      "writtenOn": "2017-08-04T21:17:19Z",
      "side": 1,
      "message": "Insisting on that would be silly of course. \n\nBut I do find it strange that this script should need a way to override *any* global from the command line. And if such a mechanism is really needed, why only for this script?\n\nI\u0027d prefer a mechanism that was either very restrictive (e.g. only allowing specific settings to be overwritten), or clearly defined to be a testing mechanism (e.g. allowing scripts ot be run using different config files).\n\nIn any case - I don\u0027t consider this a blocker. In a maintenance script, this isn\u0027t very nice, but if it\u0027s needed, we can love with it. A few fat warnings or TODOs would be nice, though.",
      "parentUuid": "4e7eab26_d8cee5b8",
      "revId": "7e9bcdd436e647aeeae32b53203809325c8e0c4a",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6e436fe2_949fd561",
        "filename": "repo/maintenance/searchEntities.php",
        "patchSetId": 20
      },
      "lineNbr": 114,
      "author": {
        "id": 128
      },
      "writtenOn": "2017-04-04T18:54:58Z",
      "side": 1,
      "message": "Use an EntityTitleLookup if you want the actual title.",
      "revId": "7e9bcdd436e647aeeae32b53203809325c8e0c4a",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e742343_669de45a",
        "filename": "repo/maintenance/searchEntities.php",
        "patchSetId": 20
      },
      "lineNbr": 114,
      "author": {
        "id": 2096
      },
      "writtenOn": "2017-06-30T19:16:32Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6e436fe2_949fd561",
      "revId": "7e9bcdd436e647aeeae32b53203809325c8e0c4a",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6e436fe2_f4865917",
        "filename": "repo/maintenance/searchEntities.php",
        "patchSetId": 20
      },
      "lineNbr": 116,
      "author": {
        "id": 128
      },
      "writtenOn": "2017-04-04T18:54:58Z",
      "side": 1,
      "message": "You may also want to get the term language.",
      "revId": "7e9bcdd436e647aeeae32b53203809325c8e0c4a",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e742343_06aae06d",
        "filename": "repo/maintenance/searchEntities.php",
        "patchSetId": 20
      },
      "lineNbr": 116,
      "author": {
        "id": 2096
      },
      "writtenOn": "2017-06-30T19:16:32Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6e436fe2_f4865917",
      "revId": "7e9bcdd436e647aeeae32b53203809325c8e0c4a",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6e436fe2_d47c7d1d",
        "filename": "repo/maintenance/searchEntities.php",
        "patchSetId": 20
      },
      "lineNbr": 118,
      "author": {
        "id": 128
      },
      "writtenOn": "2017-04-04T18:54:58Z",
      "side": 1,
      "message": "You may also want to get the term language.\nAlso, are you sure getDisplayLabel() can\u0027t return null?",
      "revId": "7e9bcdd436e647aeeae32b53203809325c8e0c4a",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e742343_c6b298e4",
        "filename": "repo/maintenance/searchEntities.php",
        "patchSetId": 20
      },
      "lineNbr": 118,
      "author": {
        "id": 2096
      },
      "writtenOn": "2017-06-30T19:16:32Z",
      "side": 1,
      "message": "You are right, null check should be added.",
      "parentUuid": "6e436fe2_d47c7d1d",
      "revId": "7e9bcdd436e647aeeae32b53203809325c8e0c4a",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    }
  ]
}