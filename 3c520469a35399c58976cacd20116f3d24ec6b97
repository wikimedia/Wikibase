{
  "comments": [
    {
      "key": {
        "uuid": "6ec1af18_7a4cc043",
        "filename": "repo/tests/phpunit/includes/api/ApiXmlFormatTest.php",
        "patchSetId": 21
      },
      "lineNbr": 360,
      "author": {
        "id": 33
      },
      "writtenOn": "2015-08-26T14:38:12Z",
      "side": 0,
      "message": "i don\u0027t think we should remove this here, as long as ApiMain::execute calls this:\n\nhttps://github.com/wikimedia/mediawiki/blob/master/includes/api/ApiMain.php#L1068\n\nhere, for xml printer, getNeedsRawData is always true and then raw mode is set before the $module is executed.\n\nWe might put a @todo here, to remove it in the future (when raw mode is removed in core), and probably such core change will break wikibase so we notice anyway :/\n\nanyway, adding this back in, the tests with this patch still pass :)\n\n(PS. it would be nicer to not need this code at all to mimic ApiMain::executeAction and have to maintain this)",
      "revId": "3c520469a35399c58976cacd20116f3d24ec6b97",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6ec1af18_5aca2472",
        "filename": "repo/tests/phpunit/includes/api/ApiXmlFormatTest.php",
        "patchSetId": 21
      },
      "lineNbr": 360,
      "author": {
        "id": 106
      },
      "writtenOn": "2015-08-26T14:43:44Z",
      "side": 0,
      "message": "The setting of raw mode already has no effect in core.\n\nThe only reason that this was set in our API tests is that our ResultBuilder would only add this metadata stuff when the api was in / needed raw mode, thus XML output could only be tested when it was true.\n\nFor api output the resultbuilder now always adds this metadata, hence this is no longer needed!",
      "parentUuid": "6ec1af18_7a4cc043",
      "revId": "3c520469a35399c58976cacd20116f3d24ec6b97",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6ec1af18_1aa81c89",
        "filename": "repo/tests/phpunit/includes/api/ApiXmlFormatTest.php",
        "patchSetId": 21
      },
      "lineNbr": 360,
      "author": {
        "id": 221
      },
      "writtenOn": "2015-08-26T14:49:07Z",
      "side": 0,
      "message": "\"as long as ApiMain::execute calls this\" will not be very long. Ic8259649 will remove the call, and is just waiting on Wikibase to remove its dependence on raw mode first.\n\nFurther, no non-deprecated methods care about the raw mode setting anymore, so skipping setting it in the narrow window between merging this patch and merging Ic8259649 won\u0027t make any difference.",
      "parentUuid": "6ec1af18_7a4cc043",
      "revId": "3c520469a35399c58976cacd20116f3d24ec6b97",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6ec1af18_7a9e0068",
        "filename": "repo/tests/phpunit/includes/api/ApiXmlFormatTest.php",
        "patchSetId": 21
      },
      "lineNbr": 360,
      "author": {
        "id": 33
      },
      "writtenOn": "2015-08-26T14:49:29Z",
      "side": 0,
      "message": "I would keep this for now. this is how core executes and formats xml api results.\n\nif we want to remove, then let\u0027s do in a follow up. I prefer to see the tests pass with this test file unchanged. (except the intentional changes in the various xml test files)",
      "parentUuid": "6ec1af18_5aca2472",
      "revId": "3c520469a35399c58976cacd20116f3d24ec6b97",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6ec1af18_5a78e425",
        "filename": "repo/tests/phpunit/includes/api/ApiXmlFormatTest.php",
        "patchSetId": 21
      },
      "lineNbr": 360,
      "author": {
        "id": 33
      },
      "writtenOn": "2015-08-26T14:50:53Z",
      "side": 0,
      "message": "@anomie i see... still would prefer removing this here be a separate patch. i\u0027ll gladly approve such patch :)",
      "parentUuid": "6ec1af18_1aa81c89",
      "revId": "3c520469a35399c58976cacd20116f3d24ec6b97",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6ec1af18_ba9ea856",
        "filename": "repo/tests/phpunit/includes/api/ApiXmlFormatTest.php",
        "patchSetId": 21
      },
      "lineNbr": 360,
      "author": {
        "id": 106
      },
      "writtenOn": "2015-08-26T14:53:04Z",
      "side": 0,
      "message": "Well, if we really want it in a separate patch to get this merged I am fine with that, but as said, this makes no difference",
      "parentUuid": "6ec1af18_5a78e425",
      "revId": "3c520469a35399c58976cacd20116f3d24ec6b97",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6ec1af18_dae134cc",
        "filename": "repo/tests/phpunit/includes/api/ApiXmlFormatTest.php",
        "patchSetId": 21
      },
      "lineNbr": 360,
      "author": {
        "id": 33
      },
      "writtenOn": "2015-08-26T15:01:47Z",
      "side": 0,
      "message": "I would be happier with that, though did try running the tests with this put back and they are indeed ok.\n\njust learned the hard way in the past to touch this the same time as touching xml stuff. :/",
      "parentUuid": "6ec1af18_ba9ea856",
      "revId": "3c520469a35399c58976cacd20116f3d24ec6b97",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    }
  ]
}