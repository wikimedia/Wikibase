{
  "comments": [
    {
      "key": {
        "uuid": "2e93376b_74bd7ed1",
        "filename": "client/tests/phpunit/includes/Api/EntityUsageTest.php",
        "patchSetId": 11
      },
      "lineNbr": 78,
      "author": {
        "id": 128
      },
      "writtenOn": "2016-08-31T13:06:15Z",
      "side": 1,
      "message": "This is quite expensive, especially if you do it for every single test method call. Just inserting into the page table directly should work for this test, no?\n\nIf you want \"real\" pages, consider implementing addDBDataOnce(). If you do that, don\u0027t set $this-\u003etablesUsed[] \u003d \u0027page\u0027, since that will reset the page table for every test method call. Also, use page names that will not conflict (e.g. by including the name of the test in the page name).\n\nBut as I said, just inserting into the page table directly should work fine here.",
      "revId": "13c1882047c6e94c7a58f2794517d003d421a521",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2e93376b_d479d22b",
        "filename": "client/tests/phpunit/includes/Api/EntityUsageTest.php",
        "patchSetId": 11
      },
      "lineNbr": 78,
      "author": {
        "id": 920
      },
      "writtenOn": "2016-08-31T13:16:38Z",
      "side": 1,
      "message": "I tried putting directly to page table but it sqllite doesn\u0027t like it since there are tons of \"NOT NULL\" constraints in page table (checkout early patchsets of this patch). Since number of pages are small I don\u0027t think it would be a big deal specially if I want to insert directly I need to determine all columns beforehand which makes the code very longer.",
      "parentUuid": "2e93376b_74bd7ed1",
      "revId": "13c1882047c6e94c7a58f2794517d003d421a521",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2e93376b_f4bc0eb4",
        "filename": "client/tests/phpunit/includes/Api/EntityUsageTest.php",
        "patchSetId": 11
      },
      "lineNbr": 78,
      "author": {
        "id": 128
      },
      "writtenOn": "2016-08-31T13:20:37Z",
      "side": 1,
      "message": "Then try only inserting the pages once.\n\nWith the current code, you clear the page table for every test and re-create the page, but the revision table isn\u0027t cleared, nor are any of the secondary table. This is slow but still not clean. I\u0027d prefer to \"leak\" the pages from the test, but only create them once.",
      "parentUuid": "2e93376b_d479d22b",
      "revId": "13c1882047c6e94c7a58f2794517d003d421a521",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2e93376b_94702a09",
        "filename": "client/tests/phpunit/includes/Api/EntityUsageTest.php",
        "patchSetId": 11
      },
      "lineNbr": 78,
      "author": {
        "id": 920
      },
      "writtenOn": "2016-08-31T13:34:49Z",
      "side": 1,
      "message": "What do you think of using setUpBeforeClass()?http://stackoverflow.com/questions/7158930/phpunit-how-do-i-create-a-function-to-be-called-once-for-all-my-tests",
      "parentUuid": "2e93376b_f4bc0eb4",
      "revId": "13c1882047c6e94c7a58f2794517d003d421a521",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    }
  ]
}