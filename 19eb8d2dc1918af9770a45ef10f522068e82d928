{
  "comments": [
    {
      "key": {
        "uuid": "61f08b6a_5d736996",
        "filename": "/COMMIT_MSG",
        "patchSetId": 29
      },
      "lineNbr": 19,
      "author": {
        "id": 664
      },
      "writtenOn": "2018-10-16T20:00:49Z",
      "side": 1,
      "message": "As pointed out in the other comment, this is the wrong URL for `mainEntity` at least: you need something which will return JSON-LD data for the entity, at least under content-negotation (ie, when sent an `Accept: application/ld+json` header).  That\u0027s /entity/Q42, not /wiki/Q42.\n\nThe same goes for `sameAs`, but I don\u0027t care as much because we\u0027re already misusing that for SEO.  (An \"article about Douglas Adams\" is not the same thing as \"Douglas Adams\", although it\u0027s true to say that \"Douglas Adams\" is the \"main entity\" of the \"article about Douglas Adams\".)\n\nIt looks like this has been fixed in PS30 in the time it took me to type this up about PS29...",
      "revId": "19eb8d2dc1918af9770a45ef10f522068e82d928",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "329a3174_3125a8b1",
        "filename": "client/tests/phpunit/includes/Hooks/SkinAfterBottomScriptsHandlerTest.php",
        "patchSetId": 29
      },
      "lineNbr": 46,
      "author": {
        "id": 2096
      },
      "writtenOn": "2018-10-16T17:59:08Z",
      "side": 1,
      "message": "Shouldn\u0027t this be http://www.wikidata.org/entity/Q42 if we\u0027re in the context of RDF?",
      "range": {
        "startLine": 46,
        "startChar": 41,
        "endLine": 46,
        "endChar": 45
      },
      "revId": "19eb8d2dc1918af9770a45ef10f522068e82d928",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "98403078_c3cf7a4e",
        "filename": "client/tests/phpunit/includes/Hooks/SkinAfterBottomScriptsHandlerTest.php",
        "patchSetId": 29
      },
      "lineNbr": 46,
      "author": {
        "id": 2426
      },
      "writtenOn": "2018-10-16T18:16:14Z",
      "side": 1,
      "message": "I\u0027m not opposed to changing this but I worry that the chain of redirects will negatively impact our Google rankings. https://www.wikidata.org/entity/Q42 returns a 303 to https://www.wikidata.org/wiki/Special:EntityData/Q42 which 303s to https://www.wikidata.org/wiki/Q42. My preference is to keep the resolved URL, https://www.wikidata.org/entity/Q42, until this patch goes into the wild and improvements can be A/B tested with referrers.",
      "parentUuid": "329a3174_3125a8b1",
      "range": {
        "startLine": 46,
        "startChar": 41,
        "endLine": 46,
        "endChar": 45
      },
      "revId": "19eb8d2dc1918af9770a45ef10f522068e82d928",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "43a48aa8_8efc468c",
        "filename": "client/tests/phpunit/includes/Hooks/SkinAfterBottomScriptsHandlerTest.php",
        "patchSetId": 29
      },
      "lineNbr": 46,
      "author": {
        "id": 2096
      },
      "writtenOn": "2018-10-16T18:19:43Z",
      "side": 1,
      "message": "Well this depends on the meaning of these values. If you need RDF ID, it\u0027s /entity/ one, but if it\u0027s the URL at which the data should be accessed, it\u0027s negotiated and can be https://www.wikidata.org/wiki/Q42 for browser users. So I wonder what\u0027s the intended semantics of sameAs and mainEntity in this case. These URIs are different and not interchangeable so we need to use right one in the right context.",
      "parentUuid": "98403078_c3cf7a4e",
      "range": {
        "startLine": 46,
        "startChar": 41,
        "endLine": 46,
        "endChar": 45
      },
      "revId": "19eb8d2dc1918af9770a45ef10f522068e82d928",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "34713d71_d1819d6d",
        "filename": "client/tests/phpunit/includes/Hooks/SkinAfterBottomScriptsHandlerTest.php",
        "patchSetId": 29
      },
      "lineNbr": 46,
      "author": {
        "id": 664
      },
      "writtenOn": "2018-10-16T19:55:39Z",
      "side": 1,
      "message": "Oh, I didn\u0027t notice this.  Yes, it should be the /entity/ URL, at least for \"mainEntity\".  I don\u0027t care as much about \"sameAs\" because we\u0027re misusing it semantically anyway (the article about a thing is not the same as the thing itself) and AFAICT we\u0027re only including it for SEO.  So I\u0027d be fine if mainEntity pointed at the proper /entity/ URL which will content-negotiate a JSON-LD response when looked up as part of a semantic processor, but sameAs did whatever hack was necessary to obtain good SEO.\n\nI\u0027ll note that T109420/T122711 covers returning actual entity data from the /wiki/ endpoint; that\u0027s a separate feature request (although one I support).  I don\u0027t know why exactly we don\u0027t do content-negotiation on the /wiki/ endpoint the same way we do on the /entity/ endpoint, although I suspect \"difficult to integrate with mediawiki\" is the reason.",
      "parentUuid": "43a48aa8_8efc468c",
      "range": {
        "startLine": 46,
        "startChar": 41,
        "endLine": 46,
        "endChar": 45
      },
      "revId": "19eb8d2dc1918af9770a45ef10f522068e82d928",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f1672db6_1aac217e",
        "filename": "client/tests/phpunit/includes/Hooks/SkinAfterBottomScriptsHandlerTest.php",
        "patchSetId": 29
      },
      "lineNbr": 46,
      "author": {
        "id": 2426
      },
      "writtenOn": "2018-10-16T20:03:00Z",
      "side": 1,
      "message": "Thank you both, revised.",
      "parentUuid": "34713d71_d1819d6d",
      "range": {
        "startLine": 46,
        "startChar": 41,
        "endLine": 46,
        "endChar": 45
      },
      "revId": "19eb8d2dc1918af9770a45ef10f522068e82d928",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": true
    }
  ]
}