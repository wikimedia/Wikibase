Wikibase Client provides a Lua Scribunto interface that, if activated, can be used to access data from the Wikibase repository.

== mw.wikibase ==
In <code>mw.wikibase</code> general Lua functionality for working with Wikibase data can be found.

=== mw.wikibase.getEntityObject ===
<code>wikibase.getEntityObject()</code><br>
Gets a [[#mw.wikibase.entity|mw.wikibase.entity]] table with data of the Wikibase item connected to the current page.

=== mw.wikibase.label ===
<code>wikibase.label( id )</code><br>
Takes an item ID and returns the label in the language of the local wiki.

=== mw.wikibase.sitelink ===
<code>wikibase.sitelink( id )</code><br>
Takes an item ID and returns the title of the corresponding page on the local wiki.

=== mw.wikibase.getEntity ===
<code>wikibase.getEntity()</code><br>
Gets entity data of the Wikidata item connected with the current page. The returned object will have a legacy format, where tables are 0-based rather than 1-based. Also they will hold claims with both upper an lower case property ids (lower key property ids are deprecated).

<strong style="color:red">Deprecated: Please use <code>[[#mw.wikibase.getEntityObject|mw.wikibase.getEntityObject]]</code></strong>

== mw.wikibase.entity ==
<code>mw.wikibase.entity</code> represents a Wikibase entity in Lua. A <code>mw.wikibase.entity</code> table for the item which is linked with the current page can be obtained with [[#mw.wikibase.getEntityObject|<code>mw.wikibase.getEntityObject</code>]].

Functions documented as <code>mw.wikibase.entity.name</code> are available on the global <code>mw.wikibase.entity</code> table; functions documented as <code>mw.wikibase.entity:name</code> are methods of an <code>mw.wikibase.entity</code> object (see [[#mw.wikibase.entity.create|<code>mw.wikibase.entity.create</code>]]).

=== mw.wikibase.entity:getLabel ===
<code>entity:getLabel()</code><br>
<code>entity:getLabel( langCode )</code><br>
Returns the label of the entity in the language given as <code>langCode</code> or in the Wiki's content language.

=== mw.wikibase.entity:getSitelink ===
<code>entity:getSitelink()</code><br>
<code>entity:getSitelink( globalSiteId )</code><br>
Get the title the entity is linked with in the current Wiki. If <code>globalSiteId</code> is given, the title the item is linked with in the given Wiki will be returned.

=== mw.wikibase.entity:getProperties ===
<code>entity:getProperties()</code><br>
Get a table with all property ids attached to the item.

=== mw.wikibase.entity:formatPropertyValues ===
<code>entity:formatPropertyValues( propertyId )</code><br>
Get the formatted value of the claims with the given property id.

=== mw.wikibase.entity.create ===
<code>mw.wikibase.entity.create( data )</code><br>
Creates a new <code>mw.wikibase.entity</code> object for the given entity data table. This function is only used for internal calls in the current state of the Lua integration.
