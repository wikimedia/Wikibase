{
  "comments": [
    {
      "key": {
        "uuid": "6eefef32_a652cc3d",
        "filename": "client/includes/Usage/UsageDeduplicator.php",
        "patchSetId": 2
      },
      "lineNbr": 21,
      "author": {
        "id": 128
      },
      "writtenOn": "2018-01-25T18:09:21Z",
      "side": 1,
      "message": "I think that limit is too low for languages. We want to catch cases where people go through *everything*. 10 modifiers would still be a very useful filter for change dispatching. \n\nFor statements, we\u0027d ideally want the limit to be relative to the total number of statements on the entity. We have that in page_props, right? But loading that would probably be overkill. 10 may be an OK-ish limit for that.\n\nAnyway, we\u0027ll want different limits for different aspects.",
      "revId": "e1d82e45db69fd4b55c01ed1a5914bb7f9749b94",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4efcebec_3f9a43be",
        "filename": "client/includes/Usage/UsageDeduplicator.php",
        "patchSetId": 2
      },
      "lineNbr": 21,
      "author": {
        "id": 1453
      },
      "writtenOn": "2018-01-26T10:15:32Z",
      "side": 1,
      "message": "I would introduce an array of limits, but for now have only two limits in this array:\n\n$usageModifierLimits \u003d [\n    \u0027terms\u0027 \u003d\u003e 10,\n    \u0027statements\u0027 \u003d\u003e 10,\n]\n\nBut maybe I\u0027m overthinking this and it\u0027s much, much easier to simply reuse the aspect keys:\n\n$usageModifierLimits \u003d [\n    \u0027L\u0027 \u003d\u003e 10,\n    \u0027D\u0027 \u003d\u003e 10,\n    \u0027C\u0027 \u003d\u003e 10,\n]",
      "parentUuid": "6eefef32_a652cc3d",
      "revId": "e1d82e45db69fd4b55c01ed1a5914bb7f9749b94",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4efcebec_ff157b4e",
        "filename": "client/includes/Usage/UsageDeduplicator.php",
        "patchSetId": 2
      },
      "lineNbr": 21,
      "author": {
        "id": 920
      },
      "writtenOn": "2018-01-26T14:43:34Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4efcebec_3f9a43be",
      "revId": "e1d82e45db69fd4b55c01ed1a5914bb7f9749b94",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4efcebec_df84ff60",
        "filename": "client/includes/Usage/UsageDeduplicator.php",
        "patchSetId": 2
      },
      "lineNbr": 61,
      "author": {
        "id": 1453
      },
      "writtenOn": "2018-01-26T10:15:32Z",
      "side": 1,
      "message": "You want too change this to\n\n foreach ( $usagesPerEntity as $aspect \u003d\u003e \u0026$usagesPerAspect )\n\nand use the aspect key as an argument for the limit feature.",
      "range": {
        "startLine": 61,
        "startChar": 3,
        "endLine": 61,
        "endChar": 52
      },
      "revId": "e1d82e45db69fd4b55c01ed1a5914bb7f9749b94",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4efcebec_9f20b7aa",
        "filename": "client/includes/Usage/UsageDeduplicator.php",
        "patchSetId": 2
      },
      "lineNbr": 61,
      "author": {
        "id": 920
      },
      "writtenOn": "2018-01-26T14:43:34Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4efcebec_df84ff60",
      "range": {
        "startLine": 61,
        "startChar": 3,
        "endLine": 61,
        "endChar": 52
      },
      "revId": "e1d82e45db69fd4b55c01ed1a5914bb7f9749b94",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4efcebec_ff7f3b61",
        "filename": "client/includes/Usage/UsageDeduplicator.php",
        "patchSetId": 2
      },
      "lineNbr": 73,
      "author": {
        "id": 1453
      },
      "writtenOn": "2018-01-26T10:15:32Z",
      "side": 1,
      "message": "This method does not really \"limit aspects\". It limits the number of usages (per aspect) that have modifiers.\n\nSuggestion: limitPerAspect",
      "range": {
        "startLine": 73,
        "startChar": 18,
        "endLine": 73,
        "endChar": 30
      },
      "revId": "e1d82e45db69fd4b55c01ed1a5914bb7f9749b94",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4efcebec_3f10835b",
        "filename": "client/includes/Usage/UsageDeduplicator.php",
        "patchSetId": 2
      },
      "lineNbr": 73,
      "author": {
        "id": 920
      },
      "writtenOn": "2018-01-26T14:43:34Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4efcebec_ff7f3b61",
      "range": {
        "startLine": 73,
        "startChar": 18,
        "endLine": 73,
        "endChar": 30
      },
      "revId": "e1d82e45db69fd4b55c01ed1a5914bb7f9749b94",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6eefef32_66828499",
        "filename": "client/includes/Usage/UsageDeduplicator.php",
        "patchSetId": 2
      },
      "lineNbr": 75,
      "author": {
        "id": 4699
      },
      "writtenOn": "2018-01-25T18:06:27Z",
      "side": 1,
      "message": "For maximum clarity, I would perhaps comment this as:\n\n new EntityUsage(\n     $usages[0]-\u003egetEntityId(),\n     $usages[0]-\u003egetAspect()\n     // throw away modifier\n )\n\nSo it doesn’t look like you’re only creating a copy of the first array entry. But perhaps that’s just because I’m not as familiar with EntityUsage :)",
      "range": {
        "startLine": 75,
        "startChar": 15,
        "endLine": 75,
        "endChar": 84
      },
      "revId": "e1d82e45db69fd4b55c01ed1a5914bb7f9749b94",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6eefef32_e64cd4a1",
        "filename": "client/includes/Usage/UsageDeduplicator.php",
        "patchSetId": 2
      },
      "lineNbr": 75,
      "author": {
        "id": 128
      },
      "writtenOn": "2018-01-25T18:09:21Z",
      "side": 1,
      "message": "I agree that this is a bit hard to read.",
      "parentUuid": "6eefef32_66828499",
      "range": {
        "startLine": 75,
        "startChar": 15,
        "endLine": 75,
        "endChar": 84
      },
      "revId": "e1d82e45db69fd4b55c01ed1a5914bb7f9749b94",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4efcebec_df1a3f7e",
        "filename": "client/includes/Usage/UsageDeduplicator.php",
        "patchSetId": 2
      },
      "lineNbr": 75,
      "author": {
        "id": 920
      },
      "writtenOn": "2018-01-26T14:43:34Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6eefef32_e64cd4a1",
      "range": {
        "startLine": 75,
        "startChar": 15,
        "endLine": 75,
        "endChar": 84
      },
      "revId": "e1d82e45db69fd4b55c01ed1a5914bb7f9749b94",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    }
  ]
}