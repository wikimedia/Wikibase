{
  "comments": [
    {
      "key": {
        "uuid": "cee8db29_5a3d95b7",
        "filename": "repo/includes/Search/Elastic/EntityFullTextQueryBuilder.php",
        "patchSetId": 12
      },
      "lineNbr": 82,
      "author": {
        "id": 1453
      },
      "writtenOn": "2017-12-18T14:08:15Z",
      "side": 1,
      "message": "This looks pretty expensive to calculate a boolean result.\n\nAlso, this method appears to be unused. It should be removed if this is the case.",
      "range": {
        "startLine": 80,
        "startChar": 2,
        "endLine": 82,
        "endChar": 48
      },
      "revId": "3c2d571af8856faea66cf50f7fe583c570be67c7",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cee8db29_3be370d6",
        "filename": "repo/includes/Search/Elastic/EntityFullTextQueryBuilder.php",
        "patchSetId": 12
      },
      "lineNbr": 82,
      "author": {
        "id": 2096
      },
      "writtenOn": "2017-12-18T23:02:16Z",
      "side": 1,
      "message": "This checks whether advanced syntax is being used - but this function is not needed anymore anyway, should be deleted.",
      "parentUuid": "cee8db29_5a3d95b7",
      "range": {
        "startLine": 80,
        "startChar": 2,
        "endLine": 82,
        "endChar": 48
      },
      "revId": "3c2d571af8856faea66cf50f7fe583c570be67c7",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cee8db29_faad89e8",
        "filename": "repo/includes/Search/Elastic/EntityFullTextQueryBuilder.php",
        "patchSetId": 12
      },
      "lineNbr": 151,
      "author": {
        "id": 1453
      },
      "writtenOn": "2017-12-18T14:08:15Z",
      "side": 1,
      "message": "The body of this method is 123 lines long, even if this patch removed quite a few lines. I did a quick regex search and could not find an other method that long (outside of tests). The second longest is WikibaseRepo::getMonolingualTextLanguages.\n\nThis makes me happy (we are quite good in producing readable code), but a bit sad the same time (search related code I see tends to look notably different from Wikibase code).\n\nCan you please refactor this code and split it into logical elements with self-documenting names? That would be super awesome.",
      "range": {
        "startLine": 151,
        "startChar": 20,
        "endLine": 151,
        "endChar": 42
      },
      "revId": "3c2d571af8856faea66cf50f7fe583c570be67c7",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cee8db29_7bcdf861",
        "filename": "repo/includes/Search/Elastic/EntityFullTextQueryBuilder.php",
        "patchSetId": 12
      },
      "lineNbr": 151,
      "author": {
        "id": 2096
      },
      "writtenOn": "2017-12-18T23:02:16Z",
      "side": 1,
      "message": "This code creates a big search query, so it is big. I don\u0027t see much point in splitting it into pieces, making the overall structure harder to read (since you need to jump back and forth between function definitions), to satisfy an arbitrary metric. If you see specific functionality than can be taken out, your suggestions are welcome.",
      "parentUuid": "cee8db29_faad89e8",
      "range": {
        "startLine": 151,
        "startChar": 20,
        "endLine": 151,
        "endChar": 42
      },
      "revId": "3c2d571af8856faea66cf50f7fe583c570be67c7",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cee8db29_f121279f",
        "filename": "repo/includes/Search/Elastic/EntityFullTextQueryBuilder.php",
        "patchSetId": 12
      },
      "lineNbr": 151,
      "author": {
        "id": 1453
      },
      "writtenOn": "2017-12-19T08:54:08Z",
      "side": 1,
      "message": "I\u0027m sorry for the misunderstanding. I\u0027m afraid my point got entirely lost. I was not at all talking about an \"arbitrary metric\". Please excuse me if I felt the need to justify my gut feeling of \"wow, this method is huge\" with a number.\n\nAsking for \"suggestions\" is not how this is supposed to work. It is *you* guys who submitted this. *You* wrote this. *You* know what it is supposed to do, what it means, and how it needs to be split to enable others to read and understand your intent. This can not be fixed by other people later. Making intent clear and obvious is your duty.\n\nYou can not put that burden on other peoples shoulders.\n\nThis is the Wikibase code base. It follows high standards â€“ actually higher standards than many other code bases. The number of lines per function I dug up was meant to demonstrate this quite obviously. Other code bases do have much larger functions (especially MediaWiki core), but this does not justify doing the same here.\n\nI\u0027m sorry to say that, but it seems I have to: I can not accept such linear, unstructured code in the Wikibase code base.\n\nI already gave some suggestions, like moving this glue-code to a separate code base.",
      "parentUuid": "cee8db29_7bcdf861",
      "range": {
        "startLine": 151,
        "startChar": 20,
        "endLine": 151,
        "endChar": 42
      },
      "revId": "3c2d571af8856faea66cf50f7fe583c570be67c7",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    }
  ]
}