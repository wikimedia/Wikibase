{
  "comments": [
    {
      "key": {
        "uuid": "87e155b3_3b781eec",
        "filename": "repo/config/EntitySearchProfiles.php",
        "patchSetId": 5
      },
      "lineNbr": 18,
      "author": {
        "id": 2638
      },
      "writtenOn": "2018-09-06T07:37:17Z",
      "side": 1,
      "message": "why not:\n   \u0027phrase\u0027 \u003d\u003e [\n       \u0027all\u0027 \u003d\u003e 0.001,\n       \u0027all.plain\u0027 \u003d\u003e 0.1,\n   ];\n\nThis might be more flexible no?",
      "revId": "88d37cd48aac4d7c9de01bfae80915c8e8acc5fd",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a87e71bb_7624f570",
        "filename": "repo/config/EntitySearchProfiles.php",
        "patchSetId": 5
      },
      "lineNbr": 18,
      "author": {
        "id": 2096
      },
      "writtenOn": "2018-09-06T21:03:01Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "87e155b3_3b781eec",
      "revId": "88d37cd48aac4d7c9de01bfae80915c8e8acc5fd",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b4de52b8_9e5c4199",
        "filename": "repo/includes/Search/Elastic/EntityFullTextQueryBuilder.php",
        "patchSetId": 5
      },
      "lineNbr": 296,
      "author": {
        "id": 2638
      },
      "writtenOn": "2018-09-06T07:37:17Z",
      "side": 1,
      "message": "any particular reason you set 0, on other wikis we default to 1 for the phrase rescore?",
      "range": {
        "startLine": 296,
        "startChar": 29,
        "endLine": 296,
        "endChar": 30
      },
      "revId": "88d37cd48aac4d7c9de01bfae80915c8e8acc5fd",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b3033601_5298ffe0",
        "filename": "repo/includes/Search/Elastic/EntityFullTextQueryBuilder.php",
        "patchSetId": 5
      },
      "lineNbr": 296,
      "author": {
        "id": 2096
      },
      "writtenOn": "2018-09-06T21:03:01Z",
      "side": 1,
      "message": "I couldn\u0027t find any docs for this param, so I just went with my gut feeling :) What does it mean to be 0 or 1?",
      "parentUuid": "b4de52b8_9e5c4199",
      "range": {
        "startLine": 296,
        "startChar": 29,
        "endLine": 296,
        "endChar": 30
      },
      "revId": "88d37cd48aac4d7c9de01bfae80915c8e8acc5fd",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "76c22b4b_52ad18ae",
        "filename": "repo/includes/Search/Elastic/EntityFullTextQueryBuilder.php",
        "patchSetId": 5
      },
      "lineNbr": 296,
      "author": {
        "id": 2638
      },
      "writtenOn": "2018-09-07T07:00:37Z",
      "side": 1,
      "message": "slop determines the max distance between words of the query for phrease query to match:\n- foo bar will match \"this is foo bar\" with slop 0, 1, 2, 3, ...\n- foo bar will match \"this is foo and bar\" with slop 1, 2, 3 but not 0\n\nit has a perf overhead so more than 1 is not appropriate, I think 1 is OK",
      "parentUuid": "b3033601_5298ffe0",
      "range": {
        "startLine": 296,
        "startChar": 29,
        "endLine": 296,
        "endChar": 30
      },
      "revId": "88d37cd48aac4d7c9de01bfae80915c8e8acc5fd",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "564df74c_92aa95cf",
        "filename": "repo/includes/Search/Elastic/EntityFullTextQueryBuilder.php",
        "patchSetId": 5
      },
      "lineNbr": 296,
      "author": {
        "id": 2096
      },
      "writtenOn": "2018-09-07T21:35:10Z",
      "side": 1,
      "message": "For something like ABC123 I think slop 1 would mean it\u0027d also match ABC-DEF-123 which I am not sure is what we want.",
      "parentUuid": "76c22b4b_52ad18ae",
      "range": {
        "startLine": 296,
        "startChar": 29,
        "endLine": 296,
        "endChar": 30
      },
      "revId": "88d37cd48aac4d7c9de01bfae80915c8e8acc5fd",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f1678bde_1cb1e6c6",
        "filename": "repo/includes/Search/Elastic/EntityFullTextQueryBuilder.php",
        "patchSetId": 5
      },
      "lineNbr": 296,
      "author": {
        "id": 2638
      },
      "writtenOn": "2018-09-10T09:33:16Z",
      "side": 1,
      "message": "Sure, note that we also have the all.plain clause (in the main query) that will help score this better (all.plain does not split on mixed letter/number).\nOn the other hand all.pain does split on some punctuation chars.\nIf you feel that the phrase rescore is only needed to help the code/ID search usecase then the slop set to 0 is fine and the most efficient.",
      "parentUuid": "564df74c_92aa95cf",
      "range": {
        "startLine": 296,
        "startChar": 29,
        "endLine": 296,
        "endChar": 30
      },
      "revId": "88d37cd48aac4d7c9de01bfae80915c8e8acc5fd",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ca4f91cf_43a4ce8a",
        "filename": "repo/includes/Search/Elastic/EntityFullTextQueryBuilder.php",
        "patchSetId": 5
      },
      "lineNbr": 296,
      "author": {
        "id": 2096
      },
      "writtenOn": "2018-09-10T17:18:48Z",
      "side": 1,
      "message": "Well, I really am not 100% sure whether or not it would serve other use cases. Maybe I should make slop a config value too?",
      "parentUuid": "f1678bde_1cb1e6c6",
      "range": {
        "startLine": 296,
        "startChar": 29,
        "endLine": 296,
        "endChar": 30
      },
      "revId": "88d37cd48aac4d7c9de01bfae80915c8e8acc5fd",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "49afa97a_f80a7c86",
        "filename": "repo/includes/Search/Elastic/EntityFullTextQueryBuilder.php",
        "patchSetId": 5
      },
      "lineNbr": 296,
      "author": {
        "id": 2096
      },
      "writtenOn": "2018-09-14T19:28:29Z",
      "side": 1,
      "message": "Made it a config parameter.",
      "parentUuid": "ca4f91cf_43a4ce8a",
      "range": {
        "startLine": 296,
        "startChar": 29,
        "endLine": 296,
        "endChar": 30
      },
      "revId": "88d37cd48aac4d7c9de01bfae80915c8e8acc5fd",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dffea8ee_cb2670a8",
        "filename": "repo/includes/Search/Elastic/EntityFullTextQueryBuilder.php",
        "patchSetId": 5
      },
      "lineNbr": 315,
      "author": {
        "id": 2638
      },
      "writtenOn": "2018-09-06T07:37:17Z",
      "side": 1,
      "message": "we also add a (GT, 10, MatchNone) condition to disable it, this is mostly for perf reason to avoid very costly queries.\nE.g. the analyzer used by wikidata will split chinese to one token per char.",
      "revId": "88d37cd48aac4d7c9de01bfae80915c8e8acc5fd",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ce0ed0f8_192ebcd0",
        "filename": "repo/includes/Search/Elastic/EntityFullTextQueryBuilder.php",
        "patchSetId": 5
      },
      "lineNbr": 315,
      "author": {
        "id": 2096
      },
      "writtenOn": "2018-09-06T21:03:01Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "dffea8ee_cb2670a8",
      "revId": "88d37cd48aac4d7c9de01bfae80915c8e8acc5fd",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    }
  ]
}