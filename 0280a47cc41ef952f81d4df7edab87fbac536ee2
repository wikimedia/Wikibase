{
  "comments": [
    {
      "key": {
        "uuid": "ee12ffd6_c1415d10",
        "filename": "repo/tests/phpunit/includes/Specials/SpecialEntityPageTest.php",
        "patchSetId": 8
      },
      "lineNbr": 33,
      "author": {
        "id": 4089
      },
      "writtenOn": "2017-01-05T14:48:37Z",
      "side": 1,
      "message": "We discussed it with Thiemo already, it can be confusing for new developer what is \u0027qqx\u0027 and it looks like author just pressed random keys on a keyboard. Because of that I would suggest to add some reference for unexperienced developers so they knew that it has a special meaning, for example like Thiemo did here: https://gerrit.wikimedia.org/r/#/c/329596/5/repo/tests/phpunit/includes/DataTypeSelectorTest.php",
      "range": {
        "startLine": 33,
        "startChar": 22,
        "endLine": 33,
        "endChar": 27
      },
      "revId": "0280a47cc41ef952f81d4df7edab87fbac536ee2",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ee12ffd6_8197e592",
        "filename": "repo/tests/phpunit/includes/Specials/SpecialEntityPageTest.php",
        "patchSetId": 8
      },
      "lineNbr": 68,
      "author": {
        "id": 4089
      },
      "writtenOn": "2017-01-05T14:48:37Z",
      "side": 1,
      "message": "For some reason, both provided tests fail on my setup with following error:\n```\nFailed asserting that two strings are identical.\n--- Expected\n+++ Actual\n@@ @@\n-//dev.wiki.local.wmftest.net:8080/wiki/Item:Q100\n+http://dev.wiki.local.wmftest.net:8080/wiki/Item:Q100\n```\n\nI guess some test setup is missing.",
      "range": {
        "startLine": 68,
        "startChar": 2,
        "endLine": 68,
        "endChar": 80
      },
      "revId": "0280a47cc41ef952f81d4df7edab87fbac536ee2",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ee12ffd6_010655d1",
        "filename": "repo/tests/phpunit/includes/Specials/SpecialEntityPageTest.php",
        "patchSetId": 8
      },
      "lineNbr": 68,
      "author": {
        "id": 4089
      },
      "writtenOn": "2017-01-05T14:58:47Z",
      "side": 1,
      "message": "Tests started to pass when I replaced `$title-\u003egetFullURL()` with `$title-\u003egetFullURL(\u0027\u0027, false, PROTO_HTTP)`, so I guess it\u0027s test problem.\n\nI would suggest to hardcode expected url, but not rely on other classes.",
      "parentUuid": "ee12ffd6_8197e592",
      "range": {
        "startLine": 68,
        "startChar": 2,
        "endLine": 68,
        "endChar": 80
      },
      "revId": "0280a47cc41ef952f81d4df7edab87fbac536ee2",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ee12ffd6_414fadc0",
        "filename": "repo/tests/phpunit/includes/Specials/SpecialEntityPageTest.php",
        "patchSetId": 8
      },
      "lineNbr": 68,
      "author": {
        "id": 2626
      },
      "writtenOn": "2017-01-05T16:06:34Z",
      "side": 1,
      "message": "Thanks for pointing this out. It seems super odd.\nIt is really odd such difference could actually happen. Both URLs should be generated from the \"same\" Title, generated using the same EntityTitleLookup.\n\nBeing able to hardcode the URL would be nice but if I am not mistaken it would require mocking the EntityTitleLookup, and Title it returns. I guess you wouldn\u0027t like it. I wouldn\u0027t :)\n\nI\u0027ll be looking into how to make test setup more stable.",
      "parentUuid": "ee12ffd6_010655d1",
      "range": {
        "startLine": 68,
        "startChar": 2,
        "endLine": 68,
        "endChar": 80
      },
      "revId": "0280a47cc41ef952f81d4df7edab87fbac536ee2",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    }
  ]
}