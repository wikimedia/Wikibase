{
  "comments": [
    {
      "key": {
        "uuid": "0e0e73b5_38015972",
        "filename": "lib/includes/EntityTypeDefinitions.php",
        "patchSetId": 5
      },
      "lineNbr": 157,
      "author": {
        "id": 1453
      },
      "writtenOn": "2016-12-23T11:48:18Z",
      "side": 1,
      "message": "Are the parameters this callable is called with documented?",
      "range": {
        "startLine": 157,
        "startChar": 67,
        "endLine": 157,
        "endChar": 76
      },
      "revId": "9c302abbb427cdad2598afb5db9ec155a07ee1cb",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0e0e73b5_58d3ed05",
        "filename": "lib/includes/EntityTypeDefinitions.php",
        "patchSetId": 5
      },
      "lineNbr": 158,
      "author": {
        "id": 1453
      },
      "writtenOn": "2016-12-23T11:48:18Z",
      "side": 1,
      "message": "Upper case \"ChangeOp\".",
      "range": {
        "startLine": 158,
        "startChar": 4,
        "endLine": 158,
        "endChar": 5
      },
      "revId": "9c302abbb427cdad2598afb5db9ec155a07ee1cb",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0e0e73b5_58eacd9d",
        "filename": "repo/includes/Api/EditEntity.php",
        "patchSetId": 5
      },
      "lineNbr": 284,
      "author": {
        "id": 1453
      },
      "writtenOn": "2016-12-23T11:48:18Z",
      "side": 1,
      "message": "Especially the \"remove\" element is very specific for the EditEntity API, and not used anywhere else. Which means that this whole new configuration is very specific. The name should reflect this. These are not generic \"cangeOpCallbacks\" that can be used everywhere where ChangeOps are needed.",
      "revId": "9c302abbb427cdad2598afb5db9ec155a07ee1cb",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0e0e73b5_49be6f14",
        "filename": "repo/includes/Api/EditEntity.php",
        "patchSetId": 5
      },
      "lineNbr": 284,
      "author": {
        "id": 128
      },
      "writtenOn": "2016-12-28T16:08:42Z",
      "side": 1,
      "message": "They are ChangeOpDeserializerCallabcks. They should not be bound to the EditEntity API module. The \"remove\" element is needed to represent ChangeOps that remove something, it\u0027s not specific to EditEntity. It just happens that EditEntity is the only thing that uses serialized ChangeOps.",
      "parentUuid": "0e0e73b5_58eacd9d",
      "revId": "9c302abbb427cdad2598afb5db9ec155a07ee1cb",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0e0e73b5_09ee371f",
        "filename": "repo/includes/Api/EditEntity.php",
        "patchSetId": 5
      },
      "lineNbr": 284,
      "author": {
        "id": 1453
      },
      "writtenOn": "2016-12-28T16:14:59Z",
      "side": 1,
      "message": "I disagree. This type of \"serialization\" *is* currently bound to EditEntity. We can change this, but this needs at least a place for a good documentation of this \"serialization\" format.\n\nMy questions from the previous patch sets are not answered. Basically, where is this format documented? At the moment I can\u0027t find a serializer that outputs this format. I believe something like this does not even exist.",
      "parentUuid": "0e0e73b5_49be6f14",
      "revId": "9c302abbb427cdad2598afb5db9ec155a07ee1cb",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0e0e73b5_89c907b1",
        "filename": "repo/includes/Api/EditEntity.php",
        "patchSetId": 5
      },
      "lineNbr": 284,
      "author": {
        "id": 128
      },
      "writtenOn": "2016-12-28T16:29:49Z",
      "side": 1,
      "message": "The serializer that outputs this format is in pywikibot, and in our JS API. There is none in PHP.\n\nI completely agree that this needs to be properly documented. \n\nHowever, I don\u0027t see where the format is bound to EditEntity API. It\u0027s only used there, but it could be used elsewhere without change, so it\u0027s not bound.",
      "parentUuid": "0e0e73b5_09ee371f",
      "revId": "9c302abbb427cdad2598afb5db9ec155a07ee1cb",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0e0e73b5_916ca906",
        "filename": "repo/includes/Api/EditEntity.php",
        "patchSetId": 5
      },
      "lineNbr": 294,
      "author": {
        "id": 128
      },
      "writtenOn": "2016-12-22T10:25:39Z",
      "side": 1,
      "message": "It would be good to have a test case that uses this code path.",
      "revId": "9c302abbb427cdad2598afb5db9ec155a07ee1cb",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0e0e73b5_2ff5947f",
        "filename": "repo/includes/Api/EditEntity.php",
        "patchSetId": 5
      },
      "lineNbr": 294,
      "author": {
        "id": 920
      },
      "writtenOn": "2016-12-22T15:55:44Z",
      "side": 1,
      "message": "Just a wild idea, let\u0027s do it in lexeme (since mocking everything just to test this isn\u0027t straightforward)",
      "parentUuid": "0e0e73b5_916ca906",
      "revId": "9c302abbb427cdad2598afb5db9ec155a07ee1cb",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0e0e73b5_29b9fb29",
        "filename": "repo/includes/Api/EditEntity.php",
        "patchSetId": 5
      },
      "lineNbr": 294,
      "author": {
        "id": 128
      },
      "writtenOn": "2016-12-28T16:08:42Z",
      "side": 1,
      "message": "It would be good to mock everything to test *everything*, not just this. Overhauling the tests for EditEntity would indeed be worthwhile, I think.",
      "parentUuid": "0e0e73b5_2ff5947f",
      "revId": "9c302abbb427cdad2598afb5db9ec155a07ee1cb",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0e0e73b5_f1a6454f",
        "filename": "repo/includes/WikibaseRepo.php",
        "patchSetId": 5
      },
      "lineNbr": 1846,
      "author": {
        "id": 128
      },
      "writtenOn": "2016-12-22T10:25:10Z",
      "side": 1,
      "message": "This is good enough as a first step, but I think we should have a dedicated ChangeOpDeserializer service eventually. Please file a ticket for that, or provide a follow up patch.",
      "revId": "9c302abbb427cdad2598afb5db9ec155a07ee1cb",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0e0e73b5_0fcbf04f",
        "filename": "repo/includes/WikibaseRepo.php",
        "patchSetId": 5
      },
      "lineNbr": 1846,
      "author": {
        "id": 920
      },
      "writtenOn": "2016-12-22T15:42:24Z",
      "side": 1,
      "message": "Done: https://phabricator.wikimedia.org/T153950",
      "parentUuid": "0e0e73b5_f1a6454f",
      "revId": "9c302abbb427cdad2598afb5db9ec155a07ee1cb",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    }
  ]
}