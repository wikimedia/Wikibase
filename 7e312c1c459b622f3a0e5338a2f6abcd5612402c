{
  "comments": [
    {
      "key": {
        "uuid": "9ccbea84_f77cc0d6",
        "filename": "lib/includes/Store/Sql/WikiPageEntityMetaDataLookup.php",
        "patchSetId": 4
      },
      "lineNbr": 139,
      "author": {
        "id": 128
      },
      "writtenOn": "2018-03-02T14:33:59Z",
      "side": 1,
      "message": "For PrefetichingWikiPageEntityMetaDataLookup to benefit from this, it would have to be changed too...",
      "revId": "7e312c1c459b622f3a0e5338a2f6abcd5612402c",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "be6e9bf1_61bf2a2a",
        "filename": "lib/includes/Store/Sql/WikiPageEntityMetaDataLookup.php",
        "patchSetId": 4
      },
      "lineNbr": 139,
      "author": {
        "id": 4699
      },
      "writtenOn": "2018-03-02T14:44:53Z",
      "side": 1,
      "message": "Yeah, I’m not sure which behavior makes more sense for PrefetchingEtc – after all, this means it no longer benefits from its own pre-fetching. What do you think? (I guess it doesn’t really matter while we haven’t converted any Wikibase code to use this new method yet…)",
      "parentUuid": "9ccbea84_f77cc0d6",
      "revId": "7e312c1c459b622f3a0e5338a2f6abcd5612402c",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8ac81546_f8a0e9bd",
        "filename": "lib/includes/Store/Sql/WikiPageEntityMetaDataLookup.php",
        "patchSetId": 4
      },
      "lineNbr": 139,
      "author": {
        "id": 128
      },
      "writtenOn": "2018-03-02T15:16:34Z",
      "side": 1,
      "message": "This actually raises a question about the intended semantics of this method: is it ok to return cached revision IDs? Cached for how long? \nIf it\u0027s ok to return revision IDs pre-fetched a few seconds ago, then the implementation in PrefetchingWPEMDL should first fill in all ids from pre-fetched data, then call loadLatestRevisionIds() for all remaining entity IDs.\nif it\u0027s not ok to return info a few seconds old, then it should always directly delegate to this method.",
      "parentUuid": "be6e9bf1_61bf2a2a",
      "revId": "7e312c1c459b622f3a0e5338a2f6abcd5612402c",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1d73c763_da84a416",
        "filename": "lib/includes/Store/Sql/WikiPageEntityMetaDataLookup.php",
        "patchSetId": 4
      },
      "lineNbr": 139,
      "author": {
        "id": 4699
      },
      "writtenOn": "2018-03-02T15:21:38Z",
      "side": 1,
      "message": "Presumably that depends on $mode – for loadRevisionInformation(), PrefetchingWPEMDL skips its pre-fetched data if the mode is LATEST_FROM_MASTER. The same would make sense for loadLatestRevisionIds(), I guess.\n\nFilling in pre-fetched data and then asking for the remaining ones sounds good… is it okay if this is left to a separate change?",
      "parentUuid": "8ac81546_f8a0e9bd",
      "revId": "7e312c1c459b622f3a0e5338a2f6abcd5612402c",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b740dfcf_df0446d2",
        "filename": "lib/includes/Store/Sql/WikiPageEntityMetaDataLookup.php",
        "patchSetId": 4
      },
      "lineNbr": 139,
      "author": {
        "id": 128
      },
      "writtenOn": "2018-03-02T17:15:02Z",
      "side": 1,
      "message": "Yes, indeed, I didn\u0027t even think of $mode - that makes it nice and explicit.\n\nYes, can be done in a separate patch, if that patch is up before this is merged, or we at least have a ticket to make sure we don\u0027t forget.",
      "parentUuid": "1d73c763_da84a416",
      "revId": "7e312c1c459b622f3a0e5338a2f6abcd5612402c",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": true
    }
  ]
}